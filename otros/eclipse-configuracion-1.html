<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Configuración de Eclipse for PHP developers (1). PHP. Bartolomé Sintes Marco</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="../varios/php.css" rel="stylesheet" type="text/css" title="mclibre" />
  <link rel="icon" href="../varios/favicon.ico" />
</head>

<body>
  <h1>Configuración de Eclipse for PHP developers (1)</h1>

  <nav>
    <p>
      <a href="../index.html"><img src="../varios/iconos/icono-php.svg" alt="Índice de PHP" title="Índice de PHP" width="48" height="48" /></a>
      <a href="#"><img src="../varios/iconos/icono-arrow-circle-up.svg" alt="Principio de la página" title="Principio de la página" width="36" height="36" /></a>
    </p>

    <div class="toc">
      <h2>Config. Eclipse PHP (1)</h2>

      <ul>
        <li><a href="#modo-trabajo">Modo de trabajo</a></li>
        <li><a href="#workspace">Espacio de trabajo</a></li>
        <li><a href="#workbench">Banco de trabajo</a></li>
        <li><a href="#project">Crear proyectos</a></li>
        <li><a href="#linked-folder">Crear carpetas enlazadas</a></li>
        <li><a href="#folder">Crear carpetas no enlazadas</a></li>
        <li><a href="#crear-php">Crear archivos PHP</a></li>
        <li><a href="#ejecutar-php">Ejecutar archivos PHP</a></li>
        <li><a href="#configurar-apache">Configurar Apache</a></li>
        <li><a href="#configurar-clase">Configuración para clase</a></li>
        <li><a href="#crear-html">Crear archivos HTML</a></li>
        <li><a href="#ejecutar-html">Ejecutar archivos HTML</a>
          <ul>
            <li><a href="#herramienta-crear">Crear herramienta externa</a></li>
            <li><a href="#herramienta-utilizar">Utilizar herramienta externa</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </nav>

  <p>En esta lección se explica cómo configurar Eclipse for PHP developers (Eclipse PHP) para crear y ejecutar archivos PHP o HTML y organizarlos en carpetas:</p>

  <section id="modo-trabajo">
    <h2>Elección del modo de trabajo</h2>

    <p>En Eclipse PHP los archivos PHP se agrupan en proyectos (en inglés, projects) que a su vez se agrupan en espacios de trabajo (en inglés, workspaces). Aunque se pueden tener definidos varios espacios de trabajo, sólo se puede tener abierto un espacio de trabajo. Para cambiar de espacio de trabajo, hay que cerrar y abrir de nuevo Eclipse.</p>

    <p>Físicamente, cada espacio de trabajo se guarda en el disco duro del ordenador en una carpeta distinta. En la carpeta del espacio de trabajo, Eclipse PHP guarda los archivos de configuración de Eclipse y la información sobre los proyectos y las carpetas y archivos incluidos en cada proyecto.</p>

    <p>Lo archivos PHP se podrían guardar también en el espacio de trabajo, pero yo recomiendo guardarlos por separado, para facilitar la portabilidad.</p>

    <p>En esta lección se explica los pasos a realizar de manera que:</p>
    <ul>
      <li>Eclipse PHP esté en la carpeta "<strong>C:\software\eclipse-php-oxygen</strong>" (como se explica en la lección <a href="eclipse-instalacion.html">Instalación de Eclipse PHP</a>)</li>
      <li>el espacio de trabajo esté en la carpeta "<strong>C:\software\workspace-nombre-de-usuario-php-oxygen</strong>"</li>
      <li>los archivos PHP estén en la carpeta "<strong>Mis documentos\...</strong>".</li>
      <li>desde Eclipse se puedan abrir y ejecutar los archivos en el navegador mediante la URL "<strong>http://localhost/...</strong>".</li>
    </ul>

    <p>Para esto último habrá que crear un alias en Apache (no se recomienda modificar la directiva DocumentRoot de Apache).</p>

    <p>En el apartado <a href="#configurar-clase">Configurar Eclipse PHP y Apache en clase</a> se indica cómo tendrá que hacerse en clase la configuración de Eclipse PHP y Apache para que varios alumnos puedan utilizar el mismo ordenador sin molestarse unos a otros.</p>
  </section>

  <section id="workspace">
    <h2>Espacio de trabajo (Workspace)</h2>

    <p>Al iniciar Eclipse PHP mientras se carga el programa se muestra una imagen que indica la versión de Eclipse, en este caso Eclipse PHP Oxygen.1 (publicada en octubre de 2017).</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-workspace-1.jpg" alt="Eclipse PHP - Inicio" width="452" height="302" />
    </p>

    <hr class="corta" />

    <p>Cada vez que se inicia Eclipse PHP, el programa pregunta el espacio de trabajo a utilizar y muestra el último espacio de trabajo utilizado (aunque se pueden elegir otros). Si se marca la casilla de verificación "Use this as the default ...", Eclipse deja de hacer esta pregunta y utiliza siempre el mismo espacio de trabajo, lo que no es aconsejable.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-workspace-2.png" alt="Eclipse PHP - Selección de espacio de trabajo" width="616" height="279" />
    </p>

    <p>En Windows el espacio de trabajo predeterminado se encuentra en la carpeta de usuario. En este curso se recomienda crear el workspace en la carpeta <strong>C:\software\workspace-nombre-de-usuario-php-oxygen</strong>, (fuera de la carpeta eclipse). Para elegir la ubicación del espacio de trabajo se puede escribir directamente en la caja de texto o hacer clic en el botón "Browse...". Una vez elegida la ubicación deseada, hay que hacer clic en el botón OK.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-workspace-3.png" alt="Eclipse PHP - Selección de espacio de trabajo" width="616" height="279" />
    </p>

    <p>Una vez iniciado Eclipse PHP, puede cambiar de espacio de trabajo mediante el menú "<span class="soft-menu">File &gt; Switch Workspace</span>".</p>

    <p>Para eliminar un espacio de trabajo, simplemente borre la carpeta que lo contiene. Una vez borrado un espacio de trabajo, Eclipse PHP sigue mostrando la carpeta en la lista desplegable aunque el espacio de trabajo ya no exista. Si vuelve a elegir un espacio de trabajo ya borrado, Eclipse PHP lo volverá a crear.</p>

    <hr class="corta" />

    <p>La primera vez que se inicie Eclipse PHP, el cortafuegos de Windows pide al usuario confirmación. Para poder utilizarlo autorice como mmínimo el acceso en redes privadas:</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-firewall-1.png" alt="Eclipse PHP - Aviso del cortafuegos de Windows" width="527" height="381" />
    </p>

    <p>Si abre el programa "Firewall de Windows con seguridad avanzada", en el apartado de Reglas de entrada podrá ver las nuevas reglas añadidas.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-firewall-2.png" alt="Eclipse PHP - Cortafuegos de Windows" width="1047" height="290" />
    </p>
  </section>

  <section id="workbench">
    <h2>Banco de trabajo (Workbench) y perspectivas (Perspectives)</h2>

    <p>Al abrir Eclipse PHP por primera vez, se muestra una pantalla de Bienvenida con enlaces a tareas de configuración, ayuda sobre Eclipse PHP, etc.</p>

    <p class="captura">
      <a href="../img/eclipse/eclipse-workbench-1b.png"><img src="../img/eclipse/eclipse-workbench-1.png" alt="Eclipse PHP - Workbench (Haz clic para ver la imagen completa)" title="Eclipse PHP - Workbench (Haz clic para ver la imagen completa)" width="622" height="350" /></a>
    </p>

    <p>Para que no se muestre esta pantalla de Bienvenida al abrir Eclipse PHP, puede desmarcar la casilla situada en la parte inferior derecha de la ventana.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-workbench-2.png" alt="Eclipse PHP - para no mostrar la pantalla de bienvenida" title="Eclipse PHP - para no mostrar la pantalla de bienvenida" width="275" height="100" />
    </p>

    <p>Cierre la pestaña "Welcome" o haga clic en el icono Workbench para mostrar la perspectiva PHP. En Eclipse, una perspectiva es un conjunto de vistas (subventanas) y menús. Las diferentes versiones de Eclipse (Java, PHP, CVS, etc) muestran distintas perspectivas predefinidas. Eclipse PHP muestra una perspectiva con vistas específicas para el desarrollo de PHP.</p>

    <p class="captura">
      <a href="../img/eclipse/eclipse-workbench-3b.png"><img src="../img/eclipse/eclipse-workbench-3.png" alt="Eclipse PHP - Perspectiva PHP (Haz clic para ver la imagen completa)" title="Eclipse PHP - Perspectiva PHP (Haz clic para ver la imagen completa)" width="622" height="350" /></a>
    </p>

    <p>Si por cualquier motivo no se abriera la perspectiva PHP, puede abrirla haciendo clic en el menú <span class="soft-menu">Window &gt; Perspective &gt; Open Perspective &gt; PHP</span> o mediante el icono situado en el extremo derecho de la barra de herramientas.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-workbench-4.png" alt="Eclipse PHP - Abrir perspectiva PHP" title="Eclipse PHP - Abrir perspectiva PHP" width="790" height="310" />
    </p>

    <p>Puede ocultar las vistas Outline y Task List con el botón Minimize ...</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-workbench-5.png" alt="Eclipse PHP - Ocultar vistas Outline y Task" title="Eclipse PHP - Ocultar vistas Outline y Task" width="250" height="200" />
    </p>

    <p>... para ampliar el espacio disponible para los programas:</p>

    <p class="captura">
      <a href="../img/eclipse/eclipse-workbench-6b.png"><img src="../img/eclipse/eclipse-workbench-6.png" alt="Eclipse PHP - Perspectiva PHP (Haz clic para ver la imagen completa)" title="Eclipse PHP - Perspectiva PHP (Haz clic para ver la imagen completa)" width="622" height="350" /></a>
    </p>

    <p>Puede restaurar las vistas Outline y Task List con el botón Restore ...</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-workbench-7.png" alt="Eclipse PHP - Restaurar vistas Outline y Task" title="Eclipse PHP - Restaurar vistas Outline y Task" width="250" height="200" />
    </p>
  </section>

  <section id="project">
    <h2>Crear proyectos (Project)</h2>

    <p>Eclipse PHP organiza los ficheros en proyectos, que se muestran en la ventana Explorador de Proyectos (Project Explorer) situada en la parte izquierda y que en un espacio de trabajo recién creado se muestra vacía.</p>

    <p>Para crear un proyecto, elija la opción de menú <span class="soft-menu">File &gt; New &gt; Project...</span>:</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-project-1.png" alt="Eclipse PHP - Creación de nuevo proyecto" title="Eclipse PHP - Creación de nuevo proyecto" width="700" height="230" />
    </p>

    <p>Se abrirá una ventana de creación del proyecto en el que puede escribir el nombre del proyecto. Este <strong>no debe contener</strong> espacios ni acentos, ya que Eclipse PHP lo utiliza para construir las URL. Los proyectos se guardan de forma predeterminada en el espacio de trabajo. En el ejemplo, se ha escrito el nombre "<strong>miproyecto</strong>". La ventana de creación de proyectos tiene dos pantallas más con opciones de configuración que no se tratan aquí. Para crear el proyecto, haga clic en Finish.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-project-2.png" alt="Eclipse PHP - Creación de nuevo proyecto" title="Eclipse PHP - Creación de nuevo proyecto" width="616" height="709" />
    </p>

    <hr class="corta" />

    <p>Una vez creado el proyecto, este aparece en la vista Explorador de Proyecto. El icono asociado a un proyecto es una carpeta con una letra P superpuesta.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-project-3.png" alt="Eclipse PHP - Creación de nuevo proyecto" title="Eclipse PHP - Creación de nuevo proyecto" width="355" height="200" />
    </p>

    <p>haga clic en la flecha situada a la izquierda del proyecto para mostrar el contenido del proyecto. La flecha cambia de orientación al mostrar u ocultar el contenido:</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-project-4.png" alt="Eclipse PHP - Creación de nuevo proyecto" title="Eclipse PHP - Creación de nuevo proyecto" width="355" height="200" />
    </p>

    <p>En el Explorador de archivos de Windows puede comprobar que en el espacio de trabajo se ha creado la carpeta "miproyecto":</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-project-5.png" alt="Eclipse PHP - Creación de nuevo proyecto" title="Eclipse PHP - Creación de nuevo proyecto" width="380" height="200" />
    </p>
  </section>

  <section id="linked-folder">
    <h2>Crear carpetas enlazadas (Linked folder)</h2>

    <p>Una vez creado el proyecto, es conveniente crear una carpeta enlazada (o varias). Las carpetas enlazadas permiten que los archivos (páginas PHP, imágenes, hojas de estilo, etc.) no tengan que estar en el espacio de trabajo, sino que puedan estar en cualquier otro sitio del disco duro. Para crear una carpeta enlazada en un proyecto, seleccione el proyecto haciendo clic en él (su nombre se mostrará en la parte inferior de la ventana) y elija la opción de menú <span class="soft-menu">File &gt; New &gt; Folder</span> (también puede hacer clic derecho sobre el proyecto y elegir la opción <span class="soft-menu">New &gt; Folder</span>).</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-linked-folder-1.png" alt="Eclipse PHP - Creación de carpeta enlazada" title="Eclipse PHP - Creación de carpeta enlazada" width="700" height="576" />
    </p>

    <hr class="corta" />

    <p>Se abrirá una ventana de creación de la carpeta. Escriba el nombre de la carpeta (Folder name). Este nombre <strong>no debe contener</strong> espacios ni acentos, ya que Eclipse PHP lo utiliza para construir las URL. En el ejemplo, se ha escrito el nombre "micarpeta". Haga clic en Advanced para mostrar más opciones.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-linked-folder-2.png" alt="Eclipse PHP - Creación de carpeta enlazada" title="Eclipse PHP - Creación de carpeta enlazada" width="511" height="452" />
    </p>

    <hr class="corta" />

    <p>A continuación, marque la casilla "Link to alternate location (Linked Folder)" y haga clic en el botón "Browse..." para elegir la carpeta del disco en la que quiera guardar los archivos PHP.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-linked-folder-3.png" alt="Eclipse PHP - Creación de carpeta enlazada" title="Eclipse PHP - Creación de carpeta enlazada" width="511" height="605" />
    </p>

    <p>Una vez creada y/o elegida la carpeta (en el ejemplo se ha elegido la carpeta "Mis documentos\IAW Barto\PHP"), haga clic en el botón "Finish" para terminar.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-linked-folder-4.png" alt="Eclipse PHP - Creación de carpeta enlazada" title="Eclipse PHP - Creación de carpeta enlazada" width="511" height="605" />
    </p>

    <hr class="corta" />

    <p>Una vez creada la carpeta, esta aparece en la vista Explorador de Proyecto. El icono asociado a las carpetas enlazadas incluye una flecha en la esquina inferior derecha del icono, lo que permite identificarlas fácilmente.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-linked-folder-5.png" alt="Eclipse PHP - Creación de carpeta enlazada" title="Eclipse PHP - Creación de carpeta enlazada" width="355" height="230" />
    </p>
  </section>

  <section id="folder">
    <h2>Crear carpetas no enlazadas (Folder)</h2>

    <p>Una vez creada la carpeta enlazada, en ella se pueden crear todos los archivos y subcarpetas que desee. Estas carpetas ya no necesitan ser carpetas enlazadas.</p>

    <p>Para crear una subcarpeta en una carpeta, seleccione la carpeta haciendo clic en ella (su nombre se mostrará en la parte inferior de la ventana) y elija la opción de menú <span class="soft-menu">File &gt; New &gt; Folder</span> (también puede hacer clic derecho en la carpeta y elegir la opción <span class="soft-menu">New &gt; Folder</span>).</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-folder-1.png" alt="Eclipse PHP - Creación de carpeta no enlazada" title="Eclipse PHP - Creación de carpeta no enlazada" width="700" height="576" />
    </p>

    <hr class="corta" />

    <p>Se abrirá una ventana de creación de la carpeta. Escriba el nombre de la carpeta (Folder name) y haga clic en Finish. Este nombre <strong>no debe contener</strong> espacios ni acentos, ya que Eclipse PHP lo utiliza para construir las URL. En el ejemplo, se ha escrito el nombre "pruebas".</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-folder-2.png" alt="Eclipse PHP - Creación de carpeta no enlazada" title="Eclipse PHP - Creación de carpeta no enlazada" width="511" height="468" />
    </p>

    <hr class="corta" />

    <p>Una vez creada la carpeta, esta aparece en la vista Explorador de Proyecto (el icono de una carpeta no enlazada es distinto del de la carpeta enlazada).</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-folder-3.png" alt="Eclipse PHP - Creación de carpeta no enlazada" title="Eclipse PHP - Creación de carpeta no enlazada" width="355" height="240" />
    </p>

    <p>En el Explorador de archivos de Windows puede comprobar que en la carpeta superior (en el ejemplo, la carpeta a la que enlaza la carpeta enlazada micarpeta) se ha creado la carpeta "pruebas":</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-folder-4.png" alt="Eclipse PHP - Creación de nuevo proyecto" title="Eclipse PHP - Creación de nuevo proyecto" width="380" height="200" />
    </p>
  </section>

  <section id="crear-php">
    <h2>Crear archivos PHP (PHP File)</h2>

    <p>Para crear un archivo PHP en una carpeta, seleccione la carpeta haciendo clic en ella (su nombre se muestra en la parte inferior de la ventana) y elija la opción de menú <span class="soft-menu">File &gt; New &gt; PHP File</span> (también puede hacer clic derecho sobre la carpeta y elegir la opción <span class="soft-menu">New &gt; PHP File</span>).</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-php-file-1.png" alt="Eclipse PHP - Creación de archivo PHP" title="Eclipse PHP - Creación de archivo PHP" width="700" height="576" />
    </p>

    <hr class="corta" />

    <p>Se abrirá una ventana de creación de archivo. Escriba el nombre del archivo y haga clic en Finish. Este nombre <strong>no debe contener</strong> espacios ni acentos, ya que Eclipse PHP lo utiliza para construir las URL). En el ejemplo, se ha escrito el nombre "prueba_01.php".</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-php-file-2.png" alt="Eclipse PHP - Creación de archivo PHP" title="Eclipse PHP - Creación de archivo PHP" width="511" height="485" />
    </p>

    <hr class="corta" />

    <p>Una vez creado el archivo, este aparece en la vista Explorador de Proyecto y al hacer doble clic sobre un archivo, su contenido aparece en la vista Editor PHP.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-php-file-3.png" alt="Eclipse PHP - Creación de archivo PHP" title="Eclipse PHP - Creación de archivo PHP" width="510" height="290" />
    </p>

    <p>En el explorador de archivos de Windows puede comprobar que se ha creado el archivo:</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-php-file-4.png" alt="Eclipse PHP - Creación de archivo PHP" title="Eclipse PHP - Creación de archivo PHP" width="420" height="200" />
    </p>
  </section>

  <section id="ejecutar-php">
    <h2>Ejecutar archivos PHP</h2>

    <p><strong>Nota</strong>: Para abrir desde Eclipse los archivos PHP en el navegador predeterminado del sistema desde Eclipse, configure Eclipse tal y como se explica en la lección <a href="eclipse-configuracion-2.html#navegador">Configuración de Eclipse (2)</a>.</p>

    <p>Antes de ejecutar un archivo PHP, guarde el archivo. Un asterisco en la pestaña del archivo indica que el archivo se ha modificado desde que se guardó por última vez. Para guardar el archivo, haga clic en el botón Guardar de la barra de herramientas (o use el atajo de teclado <kbd>Ctrl+s</kbd>).</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-run-php-file-1.png" alt="Eclipse PHP - Ejecutar un archivo PHP" title="Eclipse PHP - Ejecutar un archivo PHP" width="510" height="290" />
    </p>

    <p>Para ejecutar un archivo PHP, seleccione el archivo y haga clic en el botón de ejecución. Puede seleccionar un archivo haciendo clic en él o en la pestaña en que esté abierto. En cualquier caso, el nombre del archivo seleccionado se muestra en la parte superior de la ventana.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-run-php-file-2.png" alt="Eclipse PHP - Ejecutar un archivo PHP" title="Eclipse PHP - Ejecutar un archivo PHP" width="510" height="290" />
    </p>

    <hr class="corta" />

    <p>La primera vez que se ejecute un archivo, se mostrará una ventana preguntando si el archivo se quiere ejecutar en la línea de comandos o abrir en el navegador. En este curso se abrirán siempre los archivos en el navegador, por lo que elegiremos siempre la opción "PHP Web Application". También puede ejecutar un archivo haciendo clic derecho en el archivo y eligiendo la opción <span class="soft-menu">Run As &gt; PHP Web Application</span>.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-run-php-file-3.png" alt="Eclipse PHP - Ejecutar un archivo PHP" title="Eclipse PHP - Ejecutar un archivo PHP" width="256" height="293" />
    </p>

    <p>La primera vez que ejecute un archivo PHP, Eclipse PHP muestra la URL con la que se ejecutará el archivo. Puede modificar esta URL, aunque ha creado corrrectamente las carpetas y ha configurado correctamente el servidor web, no es conveniente hacerlo.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-run-php-file-4.png" alt="Eclipse PHP - Ejecutar un archivo PHP" title="Eclipse PHP - Ejecutar un archivo PHP" width="547" height="177" />
    </p>

    <hr class="corta" />

    <p>Al hacer clic en OK se abrirá una vista de navegador con el archivo seleccionado (en el caso de utilizar el navegador interno) o el navegador del sistema con el archivo seleccionado (en caso de utilizar el navegador del sistema).</p>

    <ul>
      <li>Si Apache no está funcionando, se mostrará un aviso de error de conexión:
        <p class="captura">
          <img src="../img/eclipse/eclipse-run-php-file-5.png" alt="Eclipse PHP - Ejecutar un archivo HTML" title="Eclipse PHP - Ejecutar un archivo HTML" width="450" height="270" />
        </p>
      </li>
      <li>Si Apache está funcionando, pero no está configurado correctamente, se mostrará un aviso de archivo no encontrado (error 404):
        <p class="captura">
          <img src="../img/eclipse/eclipse-run-php-file-6.png" alt="Eclipse PHP - Ejecutar un archivo PHP" title="Eclipse PHP - Ejecutar un archivo PHP" width="450" height="250" />
        </p>
      </li>
      <li>Si Apache está configurado correctamente, la página se mostrará en el navegador:
        <p class="captura">
          <img src="../img/eclipse/eclipse-run-php-file-7.png" alt="Eclipse PHP - Ejecutar un archivo PHP" title="Eclipse PHP - Ejecutar un archivo PHP" width="422" height="234" />
        </p>
      </li>
    </ul>
  </section>

  <section id="configurar-apache">
    <h2>Configurar Apache</h2>

    <p>Al ejecutar un archivo PHP desde Eclipse PHP, Eclipse PHP envía al navegador una dirección construida a partir de los elementos (proyecto, carpetas, etc.) definidos en Eclipse PHP. Ese archivo se encuentra realmente en una carpeta del disco duro. Para que Apache pueda servir la página web al navegador, hay que relacionar la dirección (URL) con la ruta en el disco duro, lo que se consigue añadiendo un alias en el archivo de configuración de Apache httpd.conf.</p>

    <p>Para saber qué alias hay que añadir, compare la dirección que genera Eclipse PHP (a partir del nombre del proyecto, del nombre de la carpeta enlazada y del nombre de carpetas y archivo) con la ruta en el disco del archivo, como ilustra la imagen siguiente:</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-alias.png" alt="Eclipse PHP - Configurar Apache" title="Eclipse PHP - Configurar Apache" width="810" height="400" />
    </p>

    <p>En el ejemplo definido en esta lección y que se muestra en las capturas, el nombre del proyecto es "miproyecto", el nombre de la carpeta enlazada es "micarpeta", se ha creado una carpeta "pruebas" y el fichero se llama "prueba_01.php". La dirección que genera Eclipse PHP es entonces: "<strong>http://localhost/miproyecto/micarpeta/pruebas/prueba_01.php</strong>", como muestra la tabla siguiente:</p>

    <table class="tabla-con-borde">
      <tbody>
        <tr>
          <th></th>
          <th>Servidor</th>
          <th>Proyecto</th>
          <th>Carpeta enlazada</th>
          <th>Carpeta</th>
          <th>Fichero</th>
        </tr>
        <tr>
          <th>Elementos</th>
          <td>
            <pre>http://localhost/</pre>
          </td>
          <td>
            <pre>miproyecto/</pre>
          </td>
          <td>
            <pre>micarpeta/</pre>
          </td>
          <td>
            <pre>pruebas/</pre>
          </td>
          <td>
            <pre>prueba_01.php</pre>
          </td>
        </tr>
        <tr>
          <th>Dirección generada por Eclipse</th>
          <td colspan="5">
            <pre>http://localhost/miproyecto/micarpeta/pruebas/prueba_01.php</pre>
          </td>
        </tr>
      </tbody>
    </table>

    <p>A partir de esta dirección, Apache tiene que poder encontrar el documento en el disco. En el ejemplo definido en esta lección y que se muestra en las capturas, la ruta real del archivo es:</p>
    <ul>
      <li>en Windows: "<strong>C:\Users\NombreDeUsuario\Mis documentos\IAW Barto\ PHP\pruebas\prueba_01.php</strong>".</li>
    </ul>

    <p>La dirección generada por Eclipse y la ruta real del archivo deben comparase de derecha a izquierda. La parte final común y el inicio de la dirección (http://localhost/) se pueden descartar. El resto es lo que se utiliza para crear el alias. En el ejemplo definido en esta lección y que se muestra en las capturas el alias enlazaría "<strong>miproyecto/micarpeta/</strong>" con "<strong>C:\Users\Barto\Mis documentos\IAW Barto\PHP</strong>", como muestra la tabla siguiente:</p>

    <table class="tabla-con-borde">
      <tbody>
        <tr>
          <th rowspan="3">Dirección generada por Eclipse</th>
          <th>Servidor (se descarta)</th>
          <th>Parte no común (alias)</th>
          <th>Parte común (se descarta)</th>
        </tr>
        <tr>
          <td>
            <pre>http://localhost/</pre>
          </td>
          <td>
            <pre>miproyecto/micarpeta/</pre>
          </td>
          <td>
            <pre>pruebas/prueba_01.php</pre>
          </td>
        </tr>
        <tr>
          <td colspan="3">
            <pre>http://localhost/miproyecto/micarpeta/pruebas/prueba_01.php</pre>
          </td>
        </tr>
        <tr>
          <th rowspan="3">Ruta real</th>
          <td colspan="3">
            <pre>C:\Users\Barto\Documents\IAW Barto\PHP\pruebas\prueba_01.php</pre>
          </td>
        </tr>
        <tr>
          <td colspan="2">
            <pre>C:\Users\Barto\Documents\IAW Barto\PHP\</pre>
          </td>
          <td>
            <pre>pruebas\prueba_01.php</pre>
          </td>
        </tr>
        <tr>
          <th colspan="2">Parte no común (ruta en el disco)</th>
          <th>Parte común (se descarta)</th>
        </tr>
      </tbody>
    </table>

    <p>Así, en el ejemplo definido en esta lección y que se muestra en las capturas las líneas a añadir en el archivo httpd.conf serían las siguientes (resaltadas en negrita):</p>

    <div class="codigo">
      <pre>
<code class="language-configuracion">&lt;IfModule alias_module&gt;
# ...
<strong>   Alias /miproyecto/micarpeta "C:\Users\Barto\Documents\IAW Barto\PHP"
   &lt;Directory "C:\Users\Barto\Documents\IAW Barto\PHP"&gt;
     Options Indexes FollowSymLinks Includes ExecCGI
     AllowOverride All
     Require all granted
   &lt;/Directory&gt;<br /></strong># ...
&lt;/IfModule&gt;</code>
</pre>
    </div>

    <p>En cualquier directiva, debe escribir entre comillas las rutas que contengan espacios en blanco.</p>

    <hr class="corta" />

    <p>En resumen, si en el workspace se crea un proyecto y una carpeta enlazada que enlaza a un directorio en el disco, el alias a crear será:</p>

    <div class="codigo">
      <pre>
<code class="language-configuracion"># ...
   Alias /nombre-proyecto/nombre-carpeta "ruta-del-directorio-en-el-disco"
   &lt;Directory "ruta-directorio-en-el-disco"&gt;
     Options Indexes FollowSymLinks Includes ExecCGI
     AllowOverride All
     Require all granted
   &lt;/Directory&gt;
# ...</code>
</pre>
    </div>

    <p>Si en el <i>workspace</i> hay varias carpetas enlazadas, habrá que crear tantos alias como carpetas enlazadas (tanto si están en el mismo proyecto como si están en proyectos diferentes).</p>
  </section>

  <section id="configurar-clase">
    <h2>Configurar Eclipse PHP y Apache en clase</h2>

    <p>Los nombres del proyecto, de la carpeta enlazada y de la ubicación de los archivos PHP recomendados para utilizar en clase se proponen en el ejercicio <a href="../ejercicios/apache-eclipse.html#ejercicio-6">Apache y Eclipse 6</a>.</p>
  </section>

  <section id="crear-html">
    <h2>Crear archivos HTML</h2>

    <p>Para crear un archivo HTML en una carpeta, seleccione la carpeta haciendo clic en ella (su nombre se mostrará en la parte inferior de la ventana) y elija la opción de menú <span class="soft-menu">File &gt; New &gt; HTML File</span> (también puede hacer clic derecho sobre la carpeta y elegir la opción <span class="soft-menu">New &gt; HTML File</span>).</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-html-file-1.png" alt="Eclipse PHP - Creación de archivo HTML" title="Eclipse PHP - Creación de archivo HTML" width="700" height="330" />
    </p>

    <hr class="corta" />

    <p>Se abrirá una ventana de creación de archivo. Escriba el nombre del archivo. El nombre <strong>no debe contener</strong> espacios ni acentos, ya que Eclipse PHP lo utiliza para construir la URL local del archivo. En el ejemplo, se ha escrito el nombre "prueba-01.html".</p>

    <p>Si quiere utilizar la plantilla predeterminada (documento HTML 5), haga clic en Finish. Si quiere elegir una plantilla distinta, haga clic en Next.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-html-file-2.png" alt="Eclipse PHP - Creación de archivo HTML" title="Eclipse PHP - Creación de archivo HTML" width="511" height="434" />
    </p>

    <hr class="corta" />

    <p>En la segunda pantalla, elija la plantilla de documento HTML y haga clic en Finish. En el ejemplo se ha elegido la plantilla HTML 5.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-html-file-3.png" alt="Eclipse PHP - Creación de archivo HTML" title="Eclipse PHP - Creación de archivo HTML" width="511" height="594" />
    </p>

    <hr class="corta" />

    <p>Una vez creado el archivo, este aparece en la vista Explorador de Proyecto y su contenido aparece en la vista Editor HTML.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-html-file-4.png" alt="Eclipse PHP - Creación de archivo HTML" title="Eclipse PHP - Creación de archivo HTML" width="510" height="290" />
    </p>

    <p>En el explorador de archivos de Windows puede comprobar que se ha creado el archivo.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-new-html-file-5.png" alt="Eclipse PHP - Creación de archivo HTML" title="Eclipse PHP - Creación de archivo HTML" width="420" height="200" />
    </p>
  </section>

  <section id="ejecutar-html">
    <h2>Ejecutar archivos HTML</h2>

    <p>Eclipse PHP no es capaz de ejecutar directamente en el servidor archivos HTML, pero se puede crear una herramienta externa (External Tool) que permita hacerlo.</p>

    <section id="herramienta-crear">
      <h3>Crear la herramienta externa</h3>

      <p>Para crear la herramienta externa, elija el menú <span class="soft-menu">Run &gt; External Tools &gt; External Tools Configurations ...</span>.</p>

      <p class="captura">
        <img src="../img/eclipse/eclipse-new-external-tools-configuration-1.png" alt="Eclipse PHP - Ejecutar un archivo HTML" title="Eclipse PHP - Ejecutar un archivo HTML" width="1024" height="690" />
      </p>

      <hr class="corta" />

      <p>Se abrirá la ventana de administración de las configuraciones de herramientas externas. haga clic en "Program".</p>

      <p class="captura">
        <img src="../img/eclipse/eclipse-new-external-tools-configuration-2.png" alt="Eclipse PHP - Ejecutar un archivo HTML" title="Eclipse PHP - Ejecutar un archivo HTML" width="786" height="425" />
      </p>

      <hr class="corta" />

      <p>A continuación haga clic en el icono "New launch configuration".</p>

      <p class="captura">
        <img src="../img/eclipse/eclipse-new-external-tools-configuration-3.png" alt="Eclipse PHP - Ejecutar un archivo HTML" title="Eclipse PHP - Ejecutar un archivo HTML" width="786" height="425" />
      </p>

      <hr class="corta" />

      <p>Se mostrará la nueva herramienta externa, con sus opciones de configuración en blanco:</p>

      <p class="captura">
        <img src="../img/eclipse/eclipse-new-external-tools-configuration-4.png" alt="Eclipse PHP - Ejecutar un archivo HTML" title="Eclipse PHP - Ejecutar un archivo HTML" width="787" height="605" /></p>

      <hr class="corta" />

      <p>Para configurar la herramienta, escriba:</p>
      <ul>
        <li>el nombre de herramienta: en el ejemplo, "<strong>HTML en Firefox</strong>", </li>
        <li>la ruta de la herramienta: en el ejemplo se ha seleccionado el ejecutable firefox.exe del navegador Firefox haciendo clic en "Browse File System...",</li>
        <li>los argumentos: en el ejemplo, "<strong>localhost${container_path}/${resource_name}</strong>".</li>
      </ul>

      <p>Para finalizar, haga clic en el botón Apply.</p>

      <p class="captura">
        <img src="../img/eclipse/eclipse-new-external-tools-configuration-5.png" alt="Eclipse PHP - Ejecutar un archivo HTML" title="Eclipse PHP - Ejecutar un archivo HTML" width="771" height="605" /></p>

      <hr class="corta" />

      <p>Se mostrará la nueva configuración de herramienta externa recién creada, con su nombre. Finalmente, haga clic en Run para ejecutar en el servidor el archivo HTML elegido al principio y que Eclipse recuerde que se ha utilizado la herramienta externa.</p>

      <p class="captura">
        <img src="../img/eclipse/eclipse-new-external-tools-configuration-6.png" alt="Eclipse PHP - Ejecutar un archivo HTML" title="Eclipse PHP - Ejecutar un archivo HTML" width="756" height="587" />
      </p>

      <hr class="corta" />

      <p>Al hacer clic en Run, se abrirá Firefox mostrando el archivo en el servidor local:</p>

      <p class="captura">
        <img src="../img/eclipse/eclipse-new-external-tools-configuration-7.png" alt="Eclipse PHP - Ejecutar un archivo HTML" title="Eclipse PHP - Ejecutar un archivo HTML" width="450" height="150" /></p>

      <p>De la misma manera, puede crear otras herramientas externas para ejecutar los archivos en otros navegadores (Chrome, Edge, etc.)</p>
    </section>

    <section id="herramienta-utilizar">
      <h3>Utilizar la herramienta externa</h3>

      <p>Una vez creada la herramienta externa, para ejecutar un archivo HTML, seleccione el archivo, abra el menú <span class="soft-menu">Run &gt; External Tools</span> y elija la herramienta externa creada anteriormente (en el ejemplo, la herramienta se llama "HTML en Firefox"):</p>

      <p>Puede seleccionar un archivo haciendo clic en él o en la pestaña en que esté abierto. En cualquier caso, el nombre del archivo seleccionado se muestra en la parte superior de la ventana.</p>

      <p class="captura">
        <img src="../img/eclipse/eclipse-run-html-file-1.png" alt="Eclipse PHP - Ejecutar un archivo HTML" title="Eclipse PHP - Ejecutar un archivo HTML" width="1024" height="690" />
      </p>

      <hr class="corta" />

      <p>A continuación, se abrirá Firefox mostrando el archivo en el servidor local:</p>

      <p class="captura">
        <img src="../img/eclipse/eclipse-run-html-file-2.png" alt="Eclipse PHP - Ejecutar un archivo HTML" title="Eclipse PHP - Ejecutar un archivo HTML" width="450" height="150" />
      </p>

      <hr class="corta" />

      <p>En vez del menú, puede utilizar el botón de herramientas externas. Y como la herramienta externa permite ejectuar tanto archivos HTML como archivos PHP, este botón resulta más cómodo que el botón de ejecución.</p>

      <p class="captura">
        <img src="../img/eclipse/eclipse-run-html-file-3.png" alt="Eclipse PHP - Ejecutar un archivo HTML" title="Eclipse PHP - Ejecutar un archivo HTML" width="510" height="290" />
      </p>

      <p>El botón de herramientas externas aplica la última herramienta aplicada, pero haciendo clic en el desplegable puede ver todas las herramientas externas y elegir una específica:</p>

      <p class="captura">
        <img src="../img/eclipse/eclipse-run-html-file-4.png" alt="Eclipse PHP - Ejecutar un archivo HTML" title="Eclipse PHP - Ejecutar un archivo HTML" width="580" height="290" />
      </p>
    </section>
  </section>

  <footer>
    <p class="ultmod">Última modificación de esta página: 4 de octubre de 2017</p>

    <p class="licencia">
      <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES"><img src="../varios/iconos/icono-cc-by-sa.svg" alt="Licencia Creative Commons" title="Licencia Creative Commons BY-SA" width="120" height="42" /></a><br />
      Esta página forma parte del curso <strong><a href="http://www.mclibre.org/consultar/php/">Programación web en PHP</a></strong> por <a href="http://www.mclibre.org/" rel="author">Bartolomé Sintes Marco</a><br />
      que se distribuye bajo una <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES">Licencia Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional (CC BY-SA 4.0)</a>.
    </p>
  </footer>
</body>
</html>
