<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>PHP. Perfil recomendado. Visual Studio Code. PHP. Bartolomé Sintes Marco. www.mclibre.org</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../varios/php.css" title="mclibre">
  <link rel="icon" href="../varios/favicon.svg">
  <link rel="stylesheet" href="../varios/prism.css">
  <script src="../varios/prism.js"></script>
</head>

<body>
  <h1>Visual Studio Code. Perfil recomendado para el curso Programación web en PHP</h1>

  <nav>
    <p>
      <a href="../index.html"><img src="../varios/iconos/icono-php.svg" alt="Índice de PHP" title="Índice de PHP" width="48" height="48"></a>
      <a href="#"><img src="../varios/iconos/icono-arrow-circle-up.svg" alt="Principio de la página" title="Principio de la página" width="36" height="36"></a>
    </p>

    <div class="toc">
      <h2>VSC: Perfil</h2>

      <ul>
        <li><a href="#perfil">Importar perfil</a></li>
        <li><a href="#preferencias">Preferencias</a></li>
        <li><a href="#php-cs-fixer">PHP CS Fixer</a></li>
      </ul>
    </div>
  </nav>

  <p>Visual Studio Code permite utilizar perfiles, lo que permite cambiar de forma sencilla entre distintas configuraciones (extensiones instaladas, preferencias, tareas, atajos y aspecto del interfaz). Además, los perfiles se pueden compartir, lo que facilita la puesta a punto del editor en distintos ordenadores. Por desgracia, los perfiles todavía tienen algunas limitaciones, por lo que la configuración a veces no puede ser completamente automática y requiere algunos pasos finales manuales.</p>

  <p>En esta lección se comenta cómo instalar y completar la configuración de un perfil que incluye tanto la <a href="vsc-php-configuracion.html">Configuración recomendada</a> para seguir este curso de PHP como la <a href="https://mclibre.org/consultar/htmlcss/otros/vsc-htmlcss-configuracion.html">Configuración recomendada</a> para seguir el curso de HTML y CSS. Consulte esas lecciones para conocer todo lo que incluye el perfil.</p>

  <p>Referencias:</p>
  <ul>
    <li>Documentación oficial <a href="https://code.visualstudio.com/docs/editor/profiles">Profiles in Visual Studio Code</a></li>
  </ul>

  <section id="perfil">
    <h2>Importar el perfil recomendado</h2>

    <p>La URL del perfil recomendado para seguir estos apuntes en Windows es: <a href="https://gist.github.com/BartolomeSintes/b2ad1d8c4e87bf8015c5c136a095134f">https://gist.github.com/BartolomeSintes/b2ad1d8c4e87bf8015c5c136a095134f</a></p>

    <p>Una vez importado este perfil en Visual Studio Code, se requieren un par de ajustes adicionales que se comentan en los apartados siguientes.</p>

    <hr class="corta">

    <p>Para importar el perfil de Visual Studio Code recomendado para este curso ...</p>
    <ul>
      <li>Haga clic en la rueda dentada y elija la opción <span class="soft-menu">Perfiles &gt; Importar perfil</span>:
        <p class="captura">
          <img src="../img/vscode/vsc-perfil-importar-1.png" alt="VSC. Importar perfil recomendado" width="1024" height="350">
        </p>
      </li>
      <li>Se abrirá una caja de texto para escribir la URL del perfil compartido:
        <p class="captura">
          <img src="../img/vscode/vsc-perfil-importar-2.png" alt="VSC. Importar perfil recomendado" width="1024" height="270">
        </p>
      </li>
      <li>La URL del perfil recomendado para seguir estos apuntes en Windows es: <a href="https://gist.github.com/BartolomeSintes/b2ad1d8c4e87bf8015c5c136a095134f">https://gist.github.com/BartolomeSintes/b2ad1d8c4e87bf8015c5c136a095134f</a></li>
      <li>Copie y pegue el enlace en la caja de texto y pulse <kbd>Intro</kbd>:
        <p class="captura">
          <img src="../img/vscode/vsc-perfil-importar-3.png" alt="VSC. Importar perfil recomendado" width="1024" height="175">
        </p>
      </li>
      <li>Se mostrará la lista de elementos incluidos en el perfil (que se pueden seleccionar de forma individual). Para importar los elementos sleeccionados, haga clic en el botón "Crear perfil":
        <p class="captura">
          <img src="../img/vscode/vsc-perfil-importar-4.png" alt="VSC. Importar perfil recomendado" width="1024" height="576">
        </p>
      </li>
      <li>Se mostrará una caja de texto con el nombre del perfil:
        <p class="captura">
          <img src="../img/vscode/vsc-perfil-importar-5.png" alt="VSC. Importar perfil recomendado" width="1024" height="230">
        </p>
      </li>
      <li>Ese nombre se puede cambiar, por ejemplo, por un nombre más corto. Es aconsejable que el nombre de cada perfil empiece de forma distinta (el motivo se explica en la captura siguiente). Para terminar, haga clic en el botón "Crear".
        <p class="captura">
          <img src="../img/vscode/vsc-perfil-importar-6.png" alt="VSC. Importar perfil recomendado" width="1024" height="230">
        </p>
      </li>
      <li>Una vez creado el perfil, Visual Studio se reiniciará cargando el perfil. El nombre del perfil activo se muestra en la parte superior de la ventana. El icono de la rueda dentada muestra también un par de caracteres que correponden al principio del nombre del perfil. Si los nombres de perfiles empiezan de forma distinta, de un vistazo se puede identificar el perfil que se está utilizando.
        <p class="captura">
          <img src="../img/vscode/vsc-perfil-importar-7.png" alt="VSC. Importar perfil recomendado" width="1024" height="576">
        </p>
      </li>
      <li>El perfil importado se mostrará en el menu de la rueda dentada.
        <p class="captura">
          <img src="../img/vscode/vsc-perfil-importar-8.png" alt="VSC. Importar perfil recomendado" width="1024" height="350">
        </p>
      </li>
    </ul>

    <p>Una vez importado este perfil en Visual Studio Code, se requieren un par de ajustes adicionales que se comentan en los apartados siguientes.</p>
  </section>

  <section id="preferencias">
    <h2>Preferencias</h2>

    <p>En un perfil no es posible exportar o importar rutas de archivos en el archivo de preferencias, por lo que la preferencia que indica la ruta al ejecutable php no está incluida en el perfil y debe añadirse de forma manual. Para facilitar esa tarea, la preferencia está incluida, pero comentada, por lo que basta con descomentarla:</p>

    <ul>
      <li>Haga clic en la rueda dentada y elija la opción <span class="soft-menu">Configuración</span>:
        <p class="captura">
          <img src="../img/vscode/vsc-perfil-configuracion-1.png" alt="VSC. Modificar preferencias de configuración" width="1024" height="350">
        </p>
      </li>
      <li>Se abrirá una pestaña con las preferencias de configuración. Si no hemos abierto ninguna carpeta ni área de trabajo, esta ventana muestra únicamente las preferencias globales (Usuario):
        <p class="captura">
          <img src="../img/vscode/vsc-perfil-configuracion-2.png" alt="VSC. Modificar preferencias de configuración" width="1024" height="205">
        </p>
      </li>
      <li>Se abrirá una nueva pestaña mostrando el nombre del fichero, su ubicación en el disco y el contenido.:
        <p class="captura">
          <img src="../img/vscode/vsc-perfil-configuracion-3.png" alt="VSC. Modificar preferencias de configuración" width="1024" height="185">
        </p>
      </li>
      <li>Busque la preferencia "php.validate.executablePath" en el archivo de preferencias (al comienzo del archivo se indica la línea en la que se encuentra esta preferencia)...

        <div class="codigo">
          <pre>
<code class="language-json">...
  //
  // PHP: Validate: Executable path
  // Ubicación del intérprete de PHP.
  // "php.validate.executablePath": "<span class="codigo-resaltado">C:/xampp/php/php.exe</span>",
...</code>
</pre>
        </div>
      </li>
      <li>... y descoméntela:
        <div class="codigo">
          <pre>
<code class="language-json">...
  //
  // PHP: Validate: Executable path
  // Ubicación del intérprete de PHP.
  "php.validate.executablePath": "<span class="codigo-resaltado">C:/xampp/php/php.exe</span>",
...</code>
</pre>
        </div>
      </li>
      <li>Guarde el archivo y cierre las pestañas abiertas.</li>
    </ul>
  </section>

  <section id="php-cs-fixer">
    <h2>Archivo de configuración de PHP CS Fixer</h2>

    <p>En un perfil no es posible incluir archivos adicionales a los propios de Visual Studio Code, por lo que es necesario crear manualmente el archivo de configuración de la extensión PHP CS Fixer incluida en el perfil recomendado.</p>

    <p>Este archivo debe crearse en la carpeta .vscode situada la raíz de la carpeta de trabajo. En caso de no existir esa carpeta, debe crearse.</p>

    <ul>
      <li>Cree la carpeta .vscode en la carpeta raíz de la carpeta de trabajo.</li>
      <li>Cree el fichero <strong>php-cs-fixer-config.php</strong> en la carpeta .vscode</li>
      <li>Copie en este fichero la configuración recomendada para PHP CS Fixer que se muestra a continuación.
        <div class="codigo copy">
          <pre>
<code class="language-php">&lt;?php

  // Apuntes del curso Programación web en PHP
  // https://www.mclibre.org/consultar/php/
  //
  // Archivo de configuración para PHP CS Fixer
  // 2022-12-05

  return (new PhpCsFixer\Config())
      -&gt;setRules([
          '@PER'                                        =&gt; true,
          'align_multiline_comment'                     =&gt; ['comment_type' =&gt; 'all_multiline'],
          'array_indentation'                           =&gt; true,
          'array_syntax'                                =&gt; ['syntax' =&gt; 'short'],
          'binary_operator_spaces'                      =&gt; ['default' =&gt; 'align_single_space_minimal', 'operators' =&gt; [], ],
          'cast_spaces'                                 =&gt; ['space' =&gt; 'none'],
          'combine_consecutive_issets'                  =&gt; true,
          'concat_space'                                =&gt; ['spacing' =&gt; 'one'],
          'explicit_indirect_variable'                  =&gt; true,
          'function_typehint_space'                     =&gt; true,
          'include'                                     =&gt; true,
          'linebreak_after_opening_tag'                 =&gt; true,
          'list_syntax'                                 =&gt; ['syntax' =&gt; 'short'],
          'magic_constant_casing'                       =&gt; true,
          'magic_method_casing'                         =&gt; true,
          'multiline_comment_opening_closing'           =&gt; true,
          'multiline_whitespace_before_semicolons'      =&gt; true,
          'native_function_casing'                      =&gt; true,
          'native_function_type_declaration_casing'     =&gt; true,
          'no_alias_language_construct_call'            =&gt; true,
          'no_alternative_syntax'                       =&gt; true,
          'no_empty_statement'                          =&gt; true,
          'no_extra_blank_lines'                        =&gt; true,
          'no_mixed_echo_print'                         =&gt; ['use' =&gt; 'print'],
          'no_multiline_whitespace_around_double_arrow' =&gt; true,
          'no_short_bool_cast'                          =&gt; true,
          'no_singleline_whitespace_before_semicolons'  =&gt; true,
          'no_spaces_around_offset'                     =&gt; true,
          'no_superfluous_elseif'                       =&gt; true,
          'no_unneeded_control_parentheses'             =&gt; true,
          'no_unneeded_curly_braces'                    =&gt; true,
          'no_unset_cast'                               =&gt; true,
          'no_unused_imports'                           =&gt; true,
          'no_useless_concat_operator'                  =&gt; true,
          'no_useless_else'                             =&gt; true,
          'no_useless_return'                           =&gt; true,
          'no_whitespace_before_comma_in_array'         =&gt; true,
          'normalize_index_brace'                       =&gt; true,
          'object_operator_without_whitespace'          =&gt; true,
          'semicolon_after_instruction'                 =&gt; true,
          'single_line_comment_style'                   =&gt; true,
          'space_after_semicolon'                       =&gt; true,
          'standardize_not_equals'                      =&gt; true,
          'ternary_to_null_coalescing'                  =&gt; true,
          'trailing_comma_in_multiline'                 =&gt; true,
          'trim_array_spaces'                           =&gt; true,
          'unary_operator_spaces'                       =&gt; true,
          'whitespace_after_comma_in_array'             =&gt; true,
      ])
      -&gt;setIndent("    ")
      -&gt;setLineEnding("\n");</code>
  </pre>
        </div>
      </li>
    </ul>
  </section>

  <footer>
    <p class="ultmod">Última modificación de esta página: 21 de septiembre de 2023</p>

    <p class="licencia">
      <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES"><img src="../varios/iconos/icono-cc-by-sa.svg" alt="Licencia Creative Commons" title="Licencia Creative Commons BY-SA" width="120" height="42"></a><br>
      Esta página forma parte del curso <strong><a href="https://www.mclibre.org/consultar/php/">Programación web en PHP</a></strong> por <a href="https://www.mclibre.org/" rel="author">Bartolomé Sintes Marco</a><br>
      que se distribuye bajo una <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES">Licencia Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional (CC BY-SA 4.0)</a>.
    </p>
  </footer>
</body>
</html>
