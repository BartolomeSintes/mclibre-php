<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <title>Uso de Eclipse for PHP developers. PHP. Bartolomé Sintes Marco. www.mclibre.org</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="../varios/php.css" title="mclibre" />
  <link rel="icon" href="../varios/favicon.ico" />
</head>

<body>
  <h1>Uso de Eclipse for PHP developers</h1>

  <nav>
    <p>
      <a href="../index.html"><img src="../varios/iconos/icono-php.svg" alt="Índice de PHP" title="Índice de PHP" width="48" height="48" /></a>
      <a href="#"><img src="../varios/iconos/icono-arrow-circle-up.svg" alt="Principio de la página" title="Principio de la página" width="36" height="36" /></a>
    </p>

    <div class="toc">
      <h2>Uso de Eclipse PHP</h2>

      <ul>
        <li><a href="#actualizar-explorador">Actualizar Explorador</a></li>
        <li><a href="#psr2-aplicar">Aplicar estilo PSR-2</a></li>
        <li><a href="#pegar-html">Pegar código HTML</a></li>
        <li><a href="#sustituir-comillas">Buscar/Sustituir en archivo</a></li>
        <li><a href="#buscar-archivos">Buscar/Sustituir en archivos</a></li>
        <li><a href="#iconos-error">Iconos de error</a></li>
        <li><a href="#aumentar-reducir-sangrado">Aumentar / reducir sangrado</a></li>
      </ul>
    </div>
  </nav>

  <p>En esta lección se explica cómo utilizar algunas de las herramientas de Eclipse for PHP developers (Eclipse PHP).</p>

  <section id="actualizar-explorador">
    <h2>Actualizar contenido del Explorador de proyectos</h2>

    <p>El Explorador de proyectos de Eclipse no comprueba continuamente el contenido real de las carpetas, ni siquiera cuando se reinicia Eclipse.</p>

    <p>Si creamos una carpeta desde fuera de Eclipse, por ejemplo con el Explorador de archivos de Windows ...</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-explorer-refresh-1.png" alt="Eclipse PHP - Actualizar contenido Explorador de proyecto" width="1024" height="200" />
    </p>

    <p>... la nueva carpeta no se muestra en el Explorador de proyectos:</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-explorer-refresh-2.png" alt="Eclipse PHP - Actualizar contenido Explorador de proyecto" width="1024" height="250" />
    </p>

    <p>Para forzar a Eclipse a revisar el contenido de las carpetas, seleccione un elemento (en la imagen se ha seleccionado el proyecto, pero se podría haber seleccionado la carpeta enlazada), haga clic derecho y elija la opción Refresh (o pulse <kbd class="soft-atajo-teclado">F5</kbd>)</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-explorer-refresh-3.png" alt="Eclipse PHP - Actualizar contenido Explorador de proyecto" width="1024" height="450" />
    </p>

    <p>El explorador de proyectos actualizará el contenido y se podrán ver todos los ficheros y carpetas existentes..</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-explorer-refresh-4.png" alt="Eclipse PHP - Actualizar contenido Explorador de proyecto" width="1024" height="340" />
    </p>
  </section>

  <section id="psr2-aplicar">
    <h2>Aplicar estilo PSR-2</h2>

    <p>Eclipse PHP formatea el código de acuerdo con las recomendaciones de estilo PSR-2.</p>

    <p>Se puede formatear todo el programa o solamente una parte (seleccionando la parte a formatear) ...</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-source-format-1.png" alt="Eclipse PHP - Aplicar estilo PSR-2" width="650" height="225" />
    </p>

    <p>... mediante el menú <span class="soft-menu">Source &gt; Format</span> ...</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-source-format-2.png" alt="Eclipse PHP - Aplicar estilo PSR-2" width="650" height="370" />
    </p>

    <p>... y automáticamente el código se formateará de acuerdo con las recomendaciones de estilo PSR-2:</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-source-format-3.png" alt="Eclipse PHP - Aplicar estilo PSR-2" width="650" height="225" />
    </p>

    <p>Si no se tiene la costumbre de utilizar el formato PSR-2, se recomienda formatear todos los programas para familiarizarse con el estilo. Con un poco de práctica se interiorizará el estilo y se aplicará espontáneamente.</p>
  </section>

  <section id="pegar-html">
    <h2>Pegar código HTML en archivo PHP</h2>

    <p>Al pegar código HTML copiado del navegador en un archivo PHP, hay que tener cuidado para no perder el sangrado del código HTML original:</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-pegar-html-1.png" alt="Eclipse PHP - Pegar código HTML" width="700" height="310" />
    </p>

    <ul>
      <li>Si el código se pega fuera de un fragmento PHP, el sangrado se conserva:
        <p class="captura">
          <img src="../img/eclipse/eclipse-uso-pegar-html-2.png" alt="Eclipse PHP - Pegar código HTML" width="1024" height="190" />
        </p>
        <p class="captura">
          <img src="../img/eclipse/eclipse-uso-pegar-html-3.png" alt="Eclipse PHP - Pegar código HTML" width="1024" height="340" />
        </p>
      </li>

      <li>Si el código se pega directamente en un fragmento PHP, el sangrado se pierde:
        <p class="captura">
          <img src="../img/eclipse/eclipse-uso-pegar-html-4.png" alt="Eclipse PHP - Pegar código HTML" width="1024" height="190" />
        </p>
        <p class="captura">
          <img src="../img/eclipse/eclipse-uso-pegar-html-5.png" alt="Eclipse PHP - Pegar código HTML" width="1024" height="340" />
        </p>
      </li>

      <li>Pero si el código se pega en una instrucción <span class="php-res">print</span>, el sangrado se conserva (los errores que se muestran en la imagen siguiente son debidos a las comillas que forman parte del código fuente HTML):
        <p class="captura">
          <img src="../img/eclipse/eclipse-uso-pegar-html-6.png" alt="Eclipse PHP - Pegar código HTML" width="1024" height="190" />
        </p>
        <p class="captura">
          <img src="../img/eclipse/eclipse-uso-pegar-html-7.png" alt="Eclipse PHP - Pegar código HTML" width="1024" height="340" />
        </p>
      </li>
    </ul>

  </section>

  <section id="sustituir-comillas">
    <h2>Buscar y sustituir en archivo</h2>

    <p>Para buscar y sustituir en un único archivo, abra el menú <span class="soft-menu">Edit &gt; Find/Replace</span> (o mediante el atajo <kbd class="soft-atajo-teclado">Ctrl+F</kbd>).</p>

    <hr class="corta" />

    <h3>Ejemplo: Sustituir las comillas en el código HTML pegado</h3>

    <p>Al pegar código HTML en un <span class="php-res">print</span>, las comillas incluidas en el código HTML pegado provocan errores de sintaxis que se deben corregir cambiando las comillas dobles por el carácter especial <strong>\"</strong>.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-buscar-archivo-1.png" alt="Eclipse PHP - Buscar y sustituir en archivo" width="1024" height="340" />
    </p>

    <p>La forma más rápida de cambiarlas consiste en seleccionar las líneas de código HTML ...</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-buscar-archivo-2.png" alt="Eclipse PHP - Buscar y sustituir en archivo" width="1024" height="350" />
    </p>

    <p>... y abrir el menú <span class="soft-menu">Edit &gt; Find/Replace</span> (o mediante el atajo <kbd class="soft-atajo-teclado">Ctrl+F</kbd>). En la ventana Find/Replace hay que buscar el carácter <strong>"</strong> para sustituirlo por el carácter <strong>\"</strong>:</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-buscar-archivo-3.png" alt="Eclipse PHP - Buscar y sustituir en archivo" width="270" height="384" />
    </p>

    <p>Al hacer clic en el botón "Replace All", se sustituirán las comillas:</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-buscar-archivo-4.png" alt="Eclipse PHP - Buscar y sustituir en archivo" width="1024" height="340" />
    </p>

    <hr class="corta" />

    <p>Un error bastante habitual es seleccionar más líneas de lo necesario:</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-buscar-archivo-5.png" alt="Eclipse PHP - Buscar y sustituir en archivo" width="1024" height="340" />
    </p>

    <p>Al buscar y sustitutir las comillas, el problema es que las comillas que delimitan la cadena también se sustituyen, lo que también es un error de sintaxis.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-buscar-archivo-6.png" alt="Eclipse PHP - Buscar y sustituir en archivo" width="1024" height="340" />
    </p>

    <p>Esas contrabarras sobrantes se pueden borrar manualmente:</p>
  </section>

  <section id="buscar-archivos">
    <h2>Buscar y sustituir en archivos</h2>

    <p>Para buscar y sustituir en varios archivos, seleccione la carpeta en la que desea realizar la búsqueda y abra el menú <span class="soft-menu">Search &gt; File ...</span> (o haga clic derecho y elija la opción <span class="soft-menu">Search &gt; Search ...</span>, o utilice el atajo <kbd class="soft-atajo-teclado">Ctrl+H</kbd>).</p>

    <hr class="corta" />

    <h3>Ejemplo: Establecer el nombre del autor en los ejericios</h3>

    <p>En las plantillas de los ejercicios aparece uno o varios lugares en los que se aconseja escribir el nombre del autor del programa:</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-buscar-archivos-1.png" alt="Eclipse PHP - Buscar y sustituir en archivos" width="1024" height="340" />
    </p>

    <p>Para hacer el cambio en todos los programas, seleccione la carpeta y abra el menú <span class="soft-menu">Search &gt; File ...</span> (o haga clic derecho y elija la opción <span class="soft-menu">Search &gt; Search ...</span>, o utilice el atajo <kbd class="soft-atajo-teclado">Ctrl+H</kbd>).</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-buscar-archivos-2.png" alt="Eclipse PHP - Buscar y sustituir en archivos" width="1024" height="280" />
    </p>

    <p>En la ventana Search, escriba la cadena a sustituir en el campo "Containing text" y haga clic en Replace...</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-buscar-archivos-3.png" alt="Eclipse PHP - Buscar y sustituir en archivos" width="498" height="456" />
    </p>

    <p>En la ventana "Replace Text Matches" se indicará el número de veces que se ha encontrado la cadena. Escriba el texto de sustitución en el campo "With" y haga clic en OK:</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-buscar-archivos-4.png" alt="Eclipse PHP - Buscar y sustituir en archivos" width="482" height="263" />
    </p>

    <p>Tras unos segundos, los archivos se habrán modificado</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-buscar-archivos-5.png" alt="Eclipse PHP - Buscar y sustituir en archivos" width="1024" height="330" />
    </p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-buscar-archivos-6.png" alt="Eclipse PHP - Buscar y sustituir en archivos" width="1024" height="340" />
    </p>



  </section>

  <section id="iconos-error">
    <h2>Iconos de error</h2>

    <p>Eclipse PDT indica con un aspa roja las líneas en las que detecta un error, pero también añade un aspa roja al icono de fichero en el Explorador de proyectos y a todos los iconos de carpetas superiores:</p>

    <p>Normalmente, como en la imagen siguiente, las aspas rojas indican errores de sintaxis que imiden la ejecución de las páginas.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-icono-error-1.png" alt="Eclipse PHP - iconos de error" width="1024" height="330" />
    </p>

    <hr class="corta" />

    <p>Eclipse PDT indica con un triángulo amarillo las líneas en las que detecta un problema, pero también añade el triángulo al icono de fichero en el Explorador de proyectos y a todos los iconos de carpetas superiores.</p>

    <p>A veces los avisos se deben a limitaciones de Eclipse. Por ejemplo, en la imagen siguiente Eclipse identifica como problemas las etiquetas y atributos SVG, cuando son correctos.</p>

    <p class="captura">
      <img src="../img/eclipse/eclipse-uso-icono-error-2.png" alt="Eclipse PHP - iconos de error" width="1024" height="420" />
    </p>

  </section>

  <section id="aumentar-reducir-sangrado">
    <h2>Aumentar o reducir el sangrado</h2>

    <p>Para aumentar el sangrado de una o varias líneas se puede seleccionar las líneas y ...</p>

    <ul>
      <li>teclear el carácter tabulador, o ...</li>
      <li>elegir el menú <span class="soft-menu">Edit &gt; Shift Right</span></li>
    </ul>

    <p>Para reducir el sangrado de una o varias líneas se puede seleccionar las líneas y ...</p>

    <ul>
      <li>elegir el menú <span class="soft-menu">Edit &gt; Shift Left</span></li>
    </ul>
  </section>

  <footer>
    <p class="ultmod">Última modificación de esta página: 27 de septiembre de 2018</p>

    <p class="licencia">
      <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES"><img src="../varios/iconos/icono-cc-by-sa.svg" alt="Licencia Creative Commons" title="Licencia Creative Commons BY-SA" width="120" height="42" /></a><br />
      Esta página forma parte del curso <strong><a href="http://www.mclibre.org/consultar/php/">Programación web en PHP</a></strong> por <a href="http://www.mclibre.org/" rel="author">Bartolomé Sintes Marco</a><br />
      que se distribuye bajo una <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES">Licencia Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional (CC BY-SA 4.0)</a>.
    </p>
  </footer>
</body>
</html>
