<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Ejemplo de resolución de ejercicio (sin formulario). Ejercicios. PHP. Bartolomé Sintes Marco. www.mclibre.org</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../varios/php.css" title="mclibre">
  <link rel="icon" href="../varios/favicon.ico">
  <link rel="stylesheet" href="../varios/prism.css">
  <script src="../varios/prism.js"></script>
</head>

<body>
  <h1>Ejemplos de resolución de ejercicios - Sin formularios</h1>

  <nav>
    <p>
      <a href="../index.html"><img src="../varios/iconos/icono-php.svg" alt="Índice de PHP" title="Índice de PHP" width="48" height="48"></a>
      <a href="#"><img src="../varios/iconos/icono-arrow-circle-up.svg" alt="Principio de la página" title="Principio de la página" width="36" height="36"></a>
    </p>

    <div class="toc">
      <h2>Ejemplos - Sin formularios</h2>

      <ul>
        <li><a href="#estructura">Estructura general</a></li>
        <li><a href="#ejemplo">Ejemplo de programa</a></li>
        <li><a href="#solucion-sf">Ejercicio resuelto</a>
          <ul>
            <li><a href="#solucion-sf-1">Descargar plantillas</a></li>
            <li><a href="#solucion-sf-2">Abrir archivo .php</a></li>
            <li><a href="#solucion-sf-3">Añadir código HTML</a></li>
            <li><a href="#solucion-sf-4">Completar el programa</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </nav>

  <p>En esta lección se resuelve un ejercicio similar a los que aparecen en el apartado "PHP, sin formularios".</p>

  <section id="estructura">
    <h2>Estructura general de los ejercicios</h2>

    <p>Los ejercicios propuestos en el apartado "PHP, sin formularios" constan de:</p>
    <ul>
      <li>una única página .php</li>
      <li>una hoja de estilo .css, común a todos los ejercicios</li>
      <li>en algunos casos ficheros de imágenes (.svg, .png o .jpg) que se encuentran en la carpeta <strong>/img</strong></li>
    </ul>

    <p>Los ejercicios utilizan siempre la misma hoja de estilo, que debe encontrarse en la misma carpeta que las páginas .php.</p>

    <p>Las imágenes que se utilizan en los ejercicios pueden ser imágenes SVG, PNG o JPG y se guardan en una carpeta <strong>/img</strong>.</p>

    <p>La hoja de estilo y las imágenes que se utilizan en cada grupo de ejercicios se pueden descargar mediante un enlace que se encuentra al principio de cada página de ejercicios. El archivo se llama siempre <strong>*-plantillas.zip</strong> y contiene una carpeta con todos los archivo dentro. Una vez descomprimido el archivo zip, en la carpeta creada se pueden hacer los ejercicios (eliminando el final del nombre -plantillas).</p>
  </section>

  <section id="ejemplo">
    <h2>Ejemplo de programa</h2>

    <p>En los enunciados de los ejercicios se incluyen ejemplos de ejercicios resueltos. En la parte superior derecha de cada ejemplo hay un icono de enlace (<img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36">) para abrir el ejemplo en otra pestaña y poder ver fácilmente su código fuente HTML. Ese código fuente se puede copiar y pegar en las páginas creadas por el alumno.</p>

    <p>A continuación se muestra un ejemplo de ejercicio.</p>

    <div class="filaflex">
      <div class="resultado-object">
        <object type="text/html" data="ejemplos/ejemplo-sf-1.php" style="height: 19em;">ERROR (no puede mostrarse el objeto)</object>
      </div>
      <div class="icono-enlace">
        <a href="ejemplos/ejemplo-sf-1.php"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36"></a>
      </div>
    </div>

    <p>Al principio de cada página de ejercicios se encuentra un enlace para descargar las plantillas de los ejercicios que incluyen el código HTML "fijo" para ahorrarle trabajo. En algunas páginas de ejercicios hay disponibles páginas con soluciones comentadas. En la página de <a href="../soluciones/index.html">Soluciones de los ejercicios</a> puede descargar las soluciones completas de todos los ejercicios.</p>

    <p>Para el ejemplo comentado aquí, puede descargar las <a href="../soluciones/1920/ejemplo-sf-plantillas.zip">plantillas del ejercicio</a> o <a href="../soluciones/1920/ejemplo-sf-soluciones.zip">las soluciones completas</a>.</p>
  </section>

  <section id="solucion-sf">
    <h2>Ejercicio de ejemplo resuelto</h2>

    <p>Estos serían los pasos a realizar para resolver el ejercicio de ejemplo.</p>

    <section id="solucion-sf-1">
      <h3>Descargar las plantillas</h3>

      <ul>
        <li>Descargue el archivo comprimido de plantillas mediante el enlace que se encuentra al principio de la página de ejercicios. El texto es siempre similar a éste:
          <p>Para facilitar la realización de los ejercicios, se proporcionan unas plantillas de los ejercicios <a href="../soluciones/1920/ejemplo-sf-plantillas.zip">Ejemplo</a>.</p>
        </li>
        <li>Copie el archivo comprimido en la carpeta correspondiente (ejercicios/sin-formularios, ejercicios/con-formularios, etc.).</li>
        <li>Descomprima directamente el archivo comprimido (el archivo incluye una carpeta). En 7-zip se podría elegir la opción <span class="soft-menu">Extraer aquí</span>.</li>
        <li>Renombre la carpeta eliminando la parte final (-plantillas).</li>
        <li>Si abre cualquier archivo .php verá que al principio hay un bloque de comentarios para indicar el nombre del autor del programa:

          <div class="codigo">
            <pre>
<code class="language-php">&lt;?php
/**
 * Ejemplo de ejercicio sin formulario - ejemplo-sf-1.php
 *
 * @author    <span class="codigo-resaltado">Escriba aquí su nombre</span>
 */
?&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang="es"&gt;
&lt;head&gt;
...</code>
</pre>
          </div>
          <p>Para no tener que ir cambiando una a una las expresiones "Escriba aquí su nombre" por su propio nombre, en Visual Studio Code puede utilizar el buscador en archivos (haga clic en el icono en forma de lupa de la barra de actividades izquierda o escriba el atajo de teclado <span class="soft-atajo-teclado">Ctrl+Máy+h</span>) y cambiar todos los archivos de una sola vez.</p>
        </li>
      </ul>
    </section>

    <section id="solucion-sf-2">
      <h3>Abrir el archivo .php</h3>

      <ul>
        <li>Si ha hecho la busqueda y sustitución, su nombre aparecerá en los tres lugares indicados en la plantilla:

          <div class="codigo">
            <pre>
<code class="language-php">&lt;?php
/**
 * Ejemplo de ejercicio sin formulario - ejemplo-sf-1.php
 *
 * @author    <span class="codigo-resaltado">Barto</span>
 */
?&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang="es"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;
    Ejemplo de ejercicio sin formulario.
    Ejemplos.
    <span class="codigo-resaltado">Barto</span>
  &lt;/title&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;link rel="stylesheet" href="mclibre-php-ejercicios.css" title="Color"&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;h1&gt;Ejemplo de ejercicio sin formulario 1&lt;/h1&gt;

  &lt;p&gt;Actualice la página para mostrar dos nuevos colores.&lt;/p&gt;

  &lt;table&gt;
    &lt;tbody&gt;
&lt;?php

print "  &lt;p class=\"aviso\"&gt;Ejercicio incompleto&lt;/p&gt;\n";

?&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;

  &lt;footer&gt;
    &lt;p&gt;<span class="codigo-resaltado">Barto</span>&lt;/p&gt;
  &lt;/footer&gt;
&lt;/body&gt;
&lt;/html&gt;</code>
</pre>
          </div>
        </li>
      </ul>
    </section>

    <section id="solucion-sf-3">
      <h3>Añadir el código HTML en los fragmentos PHP</h3>

      <p>Complete la plantilla añadiendo el código HTML que deberá generar cada fragmento PHP. Ese código HTML se puede copiar del ejercicio de ejemplo.</p>

      <ul>
        <li>Abra el código fuente de la página web del ejercicio de ejemplo (<span class="soft-atajo-teclado">Ctrl+u</span>), seleccione y copie el fragmento HTML deseado:
          <div class="resultado-codigo">
            <pre>
<code class="language-html"> // ...
  &lt;table&gt;
    &lt;tbody&gt;</code></pre>
            <div class="codigo-resaltado">
              <pre>
<code class="language-html">      &lt;tr&gt;
        &lt;th&gt;Color: hsl(49, 100%, 50%)&lt;/th&gt;
        &lt;th&gt;Color: hsl(352, 100%, 50%)&lt;/th&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td style="height: 50px; background-color: hsl(49, 100%, 50%)"&gt;&lt;/td&gt;
        &lt;td style="background-color: hsl(352, 100%, 50%)"&gt;&lt;/td&gt;
      &lt;/tr&gt;</code>
</pre>
            </div>
            <pre>
<code class="language-html">    &lt;/tbody&gt;
  &lt;/table&gt;
// ...</code>
</pre>
          </div>
        </li>
        <li>Si tiene instalada la <a href="../otros/vsc-php-configuracion.html#mclibre-snippets">extensión mclibre.org Snippets</a>, utilice el atajo de teclado <span class="soft-atajo-teclado">Ctrl+Alt+v Ctrl+Alt+l</span> para pegar el código HTML en instrucciones <span class="php-res">print</span>:
          <div class="codigo">
            <pre>
  <code class="language-html"> // ...
    &lt;table&gt;
      &lt;tbody&gt;</code></pre>
            <div class="codigo-resaltado">
              <pre>
<code class="language-php"> &lt;?php
print "      &lt;tr&gt;\n";
print "        &lt;th&gt;Color: hsl(49, 100%, 50%)&lt;/th&gt;\n";
print "        &lt;th&gt;Color: hsl(352, 100%, 50%)&lt;/th&gt;\n";
print "      &lt;/tr&gt;\n";
print "        &lt;tr&gt;\n";
print "        &lt;td style=\"height: 50px; background-color: hsl(49, 100%, 50%)\"&gt;&lt;/td&gt;\n";
print "        &lt;td style=\"background-color: hsl(352, 100%, 50%)\"&gt;&lt;/td&gt;\n";
print "      &lt;/tr&gt;\n";
  ?&gt;</code>
</pre>
            </div>
            <pre>
<code class="language-html">    &lt;/tbody&gt;
    &lt;/table&gt;
  // ...</code>
</pre>
          </div>
          <p><strong>Nota</strong>: Este programa ya se puede ejecutar, pero mostraría siempre el mismo resultado.</p>
        </li>
      </ul>
    </section>

    <section id="solucion-sf-4">
      <h3>Completar el programa</h3>

      <ul>
        <li>Finalmente, debe escribir el programa PHP que realice la tarea planteada.
          <ul>
            <li>Como en los ejercicios "PHP, sin formularios" no se utilizan formularios, los programas no pueden ser interactivos, por lo que se recurre casi siempre a generar datos de forma aleatoria mediante la <a href="../lecciones/php-operaciones-aritmeticas.html#aleatorios">función rand()</a>.</li>
            <li>Si los datos generados se van a utilizar en varios lugares de la página (como es el caso del ejemplo), es necesario crear variables.</li>
          </ul>
        </li>

        <li>En este ejemplo, el código PHP para generar los colores aleatorios podría ser el siguiente:

          <div class="codigo">
            <pre>
<code class="language-html"> // ...
  &lt;table&gt;
    &lt;tbody&gt;</code></pre>
            <div class="codigo-resaltado">
              <pre>
<code class="language-php"> &lt;?php
$color1 = rand(0, 360);
$color2 = rand(0, 360);

print "      &lt;tr&gt;\n";
print "        &lt;th&gt;Color: hsl($color1, 100%, 50%)&lt;/th&gt;\n";
print "        &lt;th&gt;Color: hsl($color2, 100%, 50%)&lt;/th&gt;\n";
print "      &lt;/tr&gt;\n";
print "      &lt;tr&gt;\n";
print "        &lt;td style=\"height: 50px; background-color: hsl($color1, 100%, 50%)\"&gt;&lt;/td&gt;\n";
print "        &lt;td style=\"background-color: hsl($color2, 100%, 50%)\"&gt;&lt;/td&gt;\n";
print "      &lt;/tr&gt;\n";
?&gt;</code>
</pre>
            </div>
            <pre>
<code class="language-html">    &lt;/tbody&gt;
  &lt;/table&gt;
// ...</code>
</pre>
          </div>
        </li>

        <li>Con lo que el programa completo quedaría:
          <div class="codigo">
            <pre>
<code class="language-php">&lt;?php
/**
 * Ejemplo de ejercicio sin formulario - ejemplo-sf-1.php
 *
 * @author    Barto
 */
?&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang="es"&gt;
&lt;head&gt;
  &lt;meta charset="utf-8"&gt;
  &lt;title&gt;Ejemplo de ejercicio sin formulario 1.
    Barto&lt;/title&gt;
  &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;
  &lt;link rel="stylesheet" href="mclibre-php-ejercicios.css" title="Color"&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;h1&gt;Ejemplo de ejercicio sin formulario 1&lt;/h1&gt;

  &lt;p&gt;Actualice la página para mostrar dos nuevos colores.&lt;/p&gt;

  &lt;table&gt;
    &lt;tbody&gt;
&lt;?php
$color1 = rand(0, 360);
$color2 = rand(0, 360);

print "      &lt;tr&gt;\n";
print "        &lt;th&gt;Color: hsl($color1, 100%, 50%)&lt;/th&gt;\n";
print "        &lt;th&gt;Color: hsl($color2, 100%, 50%)&lt;/th&gt;\n";
print "      &lt;/tr&gt;\n";
print "      &lt;tr&gt;\n";
print "        &lt;td style=\"height: 50px; background-color: hsl($color1, 100%, 50%)\"&gt;&lt;/td&gt;\n";
print "        &lt;td style=\"background-color: hsl($color2, 100%, 50%)\"&gt;&lt;/td&gt;\n";
print "      &lt;/tr&gt;\n";
?&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;

  &lt;footer&gt;
    &lt;p&gt;Barto&lt;/p&gt;
  &lt;/footer&gt;
&lt;/body&gt;
&lt;/html&gt;</code>
</pre>
          </div>
        </li>
      </ul>
    </section>
  </section>

  <footer>
    <p class="ultmod">Última modificación de esta página: 3 de octubre de 2019</p>

    <p class="licencia">
      <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES"><img src="../varios/iconos/icono-cc-by-sa.svg" alt="Licencia Creative Commons" title="Licencia Creative Commons BY-SA" width="120" height="42"></a><br>
      Esta página forma parte del curso <strong><a href="https://www.mclibre.org/consultar/php/">Programación web en PHP</a></strong> por <a href="https://www.mclibre.org/" rel="author">Bartolomé Sintes Marco</a><br>
      que se distribuye bajo una <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES">Licencia Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional (CC BY-SA 4.0)</a>.
    </p>
  </footer>
</body>
</html>
