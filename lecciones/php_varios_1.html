<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>Varios. PHP. Bartolomé Sintes Marco</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="../varios/mclibre_php.css" rel="stylesheet" type="text/css" title="Color" />
    <link rel="icon" href="../varios/favicon.ico" />
    <link rel="stylesheet" href="../varios/highlight-php.css" />
    <script type="text/javascript" src="../varios/highlight.pack.js"></script>
    <script type="text/javascript">hljs.initHighlightingOnLoad();</script>
  </head>

  <body onload="document.getElementById('cursor').focus()">
    <h1>Varios</h1>

    <nav>
      <p>
        <a href="../index.html"><img src="../varios/iconos/icono_php.svg" alt="Índice de PHP" title="Índice de PHP" width="48" height="48" /></a>
        <a href="#"><img src="../varios/iconos/icono_arrow_circle_up.svg" alt="Principio de la página" title="Principio de la página" width="36" height="36" /></a>
      </p>

      <h2>Varios</h2>

      <div class="toc">
        <ul>
          <li><a href="#situar-cursor-en-control">Cursor en control al cargar</a></li>
          <li><a href="#print-echo">Diferencias entre print y echo</a></li>
          <li><a href="#controles-ocultos">Uso de controles ocultos</a></li>
          <li><a href="#ampersand">El carácter &amp;</a></li>
        </ul>
      </div>
    </nav>

    <section id="situar-cursor-en-control">
      <h2>Situar el cursor en un control al cargar un formulario</h2>

      <p>Una forma de facilitar el uso de una página con controles es situar automáticamente el cursor en el control que probablemente va a utilizar el usuario, ahorrando al usuario el tener que hacer clic en ese control. Esto se puede conseguir mediante Javascript.</p>

      <p>Una manera de hacerlo es asignar el atributo <span class="html-atri">id</span> del control sobre el que se quiere situar el cursor automáticamente y establecer el atributo <span class="html-atri">onload</span> del elemento <span class="html-eti">body</span> con el valor <span class="html-atri-valor">document.getElementById('XYZ').focus()</span>, donde XYZ es el <span class="html-atri">id</span> del control, como muestra el ejemplo siguiente:</p>

      <table class="ejemplo">
        <tbody>
          <tr>
            <td class="codphp">
              <pre>
<code class="language-html">&lt;body onload="document.getElementById('cursor').focus()"&gt;
&lt;form action="validar1.php"&gt;
  &lt;p&gt;Al cargar esta página, el cursor sitúa automáticamente en la primera caja de texto:&lt;/p&gt;
  &lt;table&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        &lt;td&gt;Usuario:&lt;/td&gt;
        &lt;td&gt;&lt;input type="text" name="usuario" id="cursor" /&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;Contraseña:&lt;/td&gt;
        &lt;td&gt;&lt;input type="password" name="password" /&gt;&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
  &lt;/table&gt;
  &lt;p&gt;&lt;input type="submit" value="Entrar" /&gt;&lt;/p&gt;
&lt;/form&gt;
&lt;/body&gt;</code>
</pre>
            </td>
            <td class="resul-php">
              <p>Al cargar esta página, el cursor se sitúa automáticamente en la primera caja de texto:</p>

              <table class="sinborde">
                <tbody>
                  <tr>
                    <td>Usuario:</td>
                    <td><input type="text" name="usuario" id="cursor" /></td>
                  </tr>
                  <tr>
                    <td>Contraseña:</td>
                    <td><input type="password" name="password" /></td>
                  </tr>
                </tbody>
              </table>

              <p><input type="submit" value="Entrar" /></p>
            </td>
          </tr>
        </tbody>
      </table>
    </section>

    <section id="print-echo">
      <h2>Diferencias entre print y echo</h2>

      <p><span class="php-con"><a href="http://www.php.net/manual/es/function.print.php">print</a></span> y <span class="php-con"><a href="http://www.php.net/manual/es/function.echo.php">echo</a></span> son dos sentencias de PHP prácticamente equivalentes y se puede utilizar cualquiera de las dos en las mismas situaciones. Sin embargo, hay alguna diferencia entre ellas:</p>
      <ul>
        <li><span class="php-con">echo</span> admite varios argumentos separados por comas, mientras que <span class="php-con">print</span> sólo admite un argumento (los argumentos deben concatenarse con el operador punto):

          <table class="ejemplo">
            <tbody>
              <tr>
                <td class="codphp">
                  <pre>
<code class="language-php">&lt;?php
$titulo = "Diferencias entre print y echo";
echo "&lt;p&gt;", $titulo, "&lt;/p&gt;";
print "&lt;p&gt;" . $titulo . "&lt;/p&gt;\n";
?&gt;</code></pre>
                </td>
                <td class="resul-php"><pre><code class="language-html">&lt;p&gt;Diferencias entre print y echo&lt;/p&gt;<br />&lt;p&gt;Diferencias entre print y echo&lt;/p&gt;</code></pre>
                </td>
              </tr>
            </tbody>
          </table>
        </li>
        <li>
          <span class="php-con">print</span> devuelve el resultado de la operación (1 si ha funcionado correctamente), mientras que <span class="php-con">echo</span> no devuelve ningún resultado.

          <p>Eso permite utilizar <span class="php-con">print</span> en construcciones en que no se puede utilizar <span class="php-con">echo</span>. Por ejemplo el siguiente ejemplo:</p>

          <table class="ejemplo">
            <tbody>
              <tr>
                <td class="codphp">
                  <pre>
<code class="language-php">&lt;?php
$numero = 5;
print "&lt;p&gt;El número $numero es ";
if ($numero &gt;= 0) {
    print "positivo";
} else  {
    print "negativo";
}
print "&lt;/p&gt;\n";
?&gt;</code>
</pre>
                </td>
                <td class="resul-php"><pre><code class="language-html">&lt;p&gt;El número 5 es positivo&lt;/p&gt;</code><code></code></pre></td>
              </tr>
            </tbody>
          </table>
          <p>puede escribirse utilizando el operador ternario <span class="php-con">? :</span> de la siguiente manera:</p>

          <table class="ejemplo">
            <tbody>
              <tr>
                <td class="codphp">
                  <pre>
<code class="language-php">&lt;?php
$numero = 5;
print "&lt;p&gt;El número $numero es ";
($numero &gt;= 0) ? print "positivo" : print "negativo";
print "&lt;/p&gt;\n";
?&gt;</code>
</pre>
                </td>
                <td class="resul-php"><pre><span class="language-html">&lt;p&gt;El número 5 es positivo&lt;/p&gt;<code></code></span></pre></td>
              </tr>
            </tbody>
          </table>
          <p>En este caso la utilización de <span class="php-con">echo</span> produciría un error:</p>

          <table class="ejemplo">
            <tbody>
              <tr>
                <td class="codphp">
                  <pre>
<code class="language-php">&lt;?php
$numero = 5;
print "&lt;p&gt;El número $numero es ";
($numero &gt;= 0) ? echo "positivo" : echo "negativo";
print "&lt;/p&gt;\n";
?&gt;</code>
</pre>
                </td>
                <td class="resul-php"><strong>Parse error</strong>: parse error, unexpected T_ECHO in <strong>ejemplo.php</strong> on line <strong>4</strong></td>
              </tr>
            </tbody>
          </table>
        </li>
        <li>la gente que ha hecho pruebas de velocidad dice que <span class="php-con">echo</span> es ligerísimamente más rápido que <span class="php-con">print</span>, pero hacen falta generar miles de <span class="php-con">echo</span> para notar alguna diferencia, por lo que la velocidad no es determinante para utilizar uno u otro.</li>
      </ul>

      <p>En resumen, no parece haber una razón de peso para preferir usar <span class="php-con">print</span> en vez de <span class="php-con">echo</span> o viceversa. Parece que la elección de uno u otro es personal y basada en la costumbre o la familiaridad con otros lenguajes o entornos en los que uno de los dos está más extendido. En estos apuntes se utiliza preferentemente <span class="php-con">print</span>.</p>
    </section>

    <section id="controles-ocultos">
      <h2>Uso de controles ocultos</h2>

      <p>Los controles ocultos es una de las maneras de pasar información entre varias páginas (también se pueden utilizar las sesiones o las cookies).</p>

      <p>El siguiente ejemplo ilustra el uso de controles ocultos.</p>

      <p class="enlace-ejercicio"><a href="ejemplos/controles_ocultos_1.html">Enlace a ejemplo Controles ocultos</a></p>

      <p class="ejercicio"><object type="text/html" data="ejemplos/controles_ocultos_1.html" class="ejercicio">ERROR (no puede mostrarse el objeto)</object></p>

      <p>El programa anterior está formado por por tres páginas:</p>
      <ul>
        <li>La primera página contiene un formulario que solicita el nombre al usuario. Ese formulario envía el dato a la segunda página.</li>
        <li>La segunda página muestra el nombre recibido y contiene otro formulario que solicita el apellido al usuario. Ese formulario envía el dato a la tercera página.</li>
        <li>La tercera página recibe el nombre y el apellido y lo muestra en pantalla.</li>
      </ul>

      <p>Aunque las tres páginas están relacionadas, hay que tener en cuenta que cada página es un programa independiente (la primera página ni siquiera es un programa, es una simple página html). En PHP cada programa (es decir, cada página) solo conoce los datos que le envía el formulario que lo llama. Y cada formulario sólo envía los datos de los controles incluidos en el formulario.</p>

      <p>En el ejemplo anterior, si los únicos controles de los formularios fueran las cajas de texto (para el nombre y el apellido), la segunda página sólo recibiría el nombre y la tercera página sólo recibiría el apellido. como muestra la imagen siguiente:</p>

      <p class="centrado"><img src="../img/php/controles_ocultos_1.svg" alt="Sin controles ocultos" width="80%" /></p>

      <p>¿Cómo puede entonces enviar la segunda página el nombre que recibió de la primera? Una forma de conseguirlo es que la segunda página incluya un control oculto que contenga el nombre recibido de la primera página. De esa manera la tercera página recibirá dos controles, el nombre (control oculto) y el apellido (caja de texto), como muestra la imagen siguiente:.</p>

      <p class="centrado"><img src="../img/php/controles_ocultos_2.svg" alt="Con controles ocultos" width="80%" /></p>
    </section>

    <section id="ampersand">
      <h2>El carácter &amp;</h2>

      <p>El carácter &amp; (que en español se llama et y en inglés ampersand) tiene un significado especial en HTML, ya que se utiliza como carácter inicial de las <a href="http://www.mclibre.org/consultar/htmlcss/html/html_entidades_caracter.html">entidades de carácter</a>.</p>

      <p>Si en una página web se quiere mostrar el carácter &amp; hay que emplear la entidad de carácter correspondiente &amp;amp;</p>

      <table class="ejemplo">
        <tbody>
          <tr>
            <td class="codphp">
              <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;La décima novela de Julian Barnes es Arthur &amp;amp; George.&lt;/p&gt;\n";
?&gt;</code>
</pre>
            </td>
            <td class="resul-php">La décima novela de Julian Barnes es Arthur &amp; George.</td>
          </tr>
        </tbody>
      </table>

      <p>El carácter &amp; aparece también en dos contextos especiales:</p>
      <ul>
        <li>En una redirección en la que se envían datos a una página, separando los datos. En este caso se debe utilizar el carácter &amp;, no la entidad de carácter:

          <div class="codphp">
            <pre>
<code class="language-php">&lt;?php
header("Location: http://www.example.com?nombre=Pepito&amp;edad=25");
?&gt;</code>
</pre>
          </div>
        </li>
        <li>En un enlace en el que también se envían datos a una página, separando los datos. En este caso se debe utilizar la entidad de carácter &amp;amp;, no el carácter &amp;:

          <div class="codphp">
            <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;&lt;img src=\"dibujo.php?ancho=100&amp;amp;alto=50\" alt=\"dibujo\" /&gt;&lt;/p&gt;\n";
?&gt;</code>
</pre>
          </div>
        </li>
      </ul>
    </section>

    <footer>
      <p class="ultmod">Última modificación de esta página: 9 de noviembre de 2015</p>

      <p class="licencia"><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES"><img alt="Licencia de Creative Commons" style="border-width:0" src="https://licensebuttons.net/l/by-sa/4.0/88x31.png" /></a><br />
        Esta página forma parte del curso <strong><a href="http://www.mclibre.org/consultar/php/">Programación web en PHP</a></strong> por <a href="http://www.mclibre.org/" rel="author">Bartolomé Sintes Marco</a><br />
        que se distribuye bajo una <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES">Licencia Creative Commons BY-SA 4.0</a>.</p>
    </footer>
  </body>
</html>
