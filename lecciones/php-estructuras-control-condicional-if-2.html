<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Estructuras de control: sentencia condicional if elseif else (2). PHP. Bartolomé Sintes Marco. www.mclibre.org</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../varios/php.css" title="mclibre">
  <link rel="icon" href="../varios/favicon.svg">
  <link rel="stylesheet" href="../varios/prism.css">
  <script src="../varios/prism.js"></script>
</head>

<body>
  <h1>Estructuras de control: sentencia condicional if ... elseif ... else ... (2)</h1>

  <nav>
    <p>
      <a href="../index.html"><img src="../varios/iconos/icono-php.svg" alt="Índice de PHP" title="Índice de PHP" width="48" height="48"></a>
      <a href="#"><img src="../varios/iconos/icono-arrow-circle-up.svg" alt="Principio de la página" title="Principio de la página" width="36" height="36"></a>
    </p>

    <div class="toc">
      <h2>if ... elseif ... else ...</h2>

      <ul>
        <li><a href="#comentarios">Comentarios</a></li>
        <li><a href="#orden-casos">Orden de los casos</a></li>
        <li><a href="#omision-comparaciones">Omisión de comparaciones</a></li>
      </ul>
    </div>
  </nav>

  <section id="comentarios">
    <h2>Comentarios</h2>

    <p>Si las condiciones <span class="php-res">if ... elseif ...</span> cubren todas las posibilidades, se puede no escribir el bloque <span class="php-res">else</span>:</p>

    <div class="codigo">
      <pre>
<code class="language-php">&lt;?php
$numero = rand(0, 100);

if ($numero % 2 == 0) {
    print "&lt;p&gt;$numero es par.&lt;/p&gt;\n";
} elseif ($numero % 2 != 0) {
    print "&lt;p&gt;$numero es impar.&lt;/p&gt;\n";
}</code>
</pre>
    </div>

    <p>Pero lo más habitual es sustituir el último bloque <span class="php-res">elseif ...</span> por un bloque <span class="php-res">else</span>:</p>

    <div class="codigo">
      <pre>
<code class="language-php">&lt;?php
$numero = rand(0, 100);

if ($numero % 2 == 0) {
    print "&lt;p&gt;$numero es par.&lt;/p&gt;\n";
} else {
    print "&lt;p&gt;$numero es impar.&lt;/p&gt;\n";
}</code>
</pre>
    </div>
  </section>

  <section id="orden-casos">
    <h2>Orden de los casos</h2>

    <p>En las estructuras <span class="php-res">if</span> ... <span class="php-res">elseif</span> ... <span class="php-res">else</span> ... el orden en que se escriben los casos es importante y, a menudo, se pueden simplificar las condiciones ordenando adecuadamente los casos.</p>

    <p>Podemos distinguir dos tipos de situaciones:</p>
    <ol>
      <li>Cuando los casos son mutuamente excluyentes</li>
      <li>Cuando unos casos incluyen a otros</li>
    </ol>

    <h3>Casos mutuamente excluyentes</h3>

    <p>Consideremos un programa que genera al azar un valor que corresponde a una edad y en función del valor escribe un mensaje diferente referente al plazo de renovación del carnet de conducir turismos. En España se distinguen tres situaciones (o casos):</p>
    <ul>
      <li>con menos de 18 años, no se pueden conducir turismos</li>
      <li>entre los 18 y 65 años, el carnet de conducir turismos se renueva en principio cada 10 años</li>
      <li>a partir de los 65 años, el carnet de conducir turismos se renueva en principio cada 5 años</li>
    </ul>

    <p>
      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="800" viewBox="-10 0 560 40" style="background-color: white;" font-family="sans-serif" font-size="14">
        <line x1="0" y1="30" x2="500" y2="30" stroke="black" stroke-width="3" />
        <polygon points="499,25 500,35 510,30" stroke="black" stroke-width="0" fill="black" />
        <line x1="0" y1="35" x2="0" y2="20" stroke="black" stroke-width="2" />
        <text x="0" y="15" text-anchor="middle">0</text>
        <line x1="90" y1="35" x2="90" y2="20" stroke="black" stroke-width="2" />
        <text x="90" y="15" text-anchor="middle">18</text>
        <line x1="325" y1="35" x2="325" y2="20" stroke="black" stroke-width="2" />
        <text x="325" y="15" text-anchor="middle">65</text>

        <text x="515" y="34" text-anchor="begin">edad</text>

        <text x="45" y="25" text-anchor="middle">sin carnet</text>
        <text x="207" y="25" text-anchor="middle">renueva cada 10 años</text>
        <text x="412" y="25" text-anchor="middle">renueva cada 5 años</text>
      </svg>
    </p>

    <p>Los casos son mutuamente excluyentes, ya que un valor de la edad sólo puede estar en uno de los casos.</p>

    <ul>
      <li>En general se aconseja considerar los casos siguiendo un orden determinado, para asegurarnos de no olvidar ninguno de los casos. Por ejemplo, podríamos considerar los casos de menor a mayor edad:

        <div class="codigo">
          <pre>
<code class="language-php">&lt;?php
$edad = rand(0, 100);

if ($edad &lt; 18) {
    print "&lt;p&gt;Si tiene $edad años, no puede conducir turismos.&lt;/p&gt;\n";
} elseif <span class="codigo-resaltado">($edad &gt;= 18 &amp;&amp; $edad &lt; 65)</span> {
    print "&lt;p&gt;Si tiene $edad años, debe renovar el carnet de conducir turismos cada 10 años.&lt;/p&gt;\n";
} else {
    print "&lt;p&gt;Si tiene $edad años, debe renovar el carnet de conducir turismos cada 5 años.&lt;/p&gt;\n";
}</code>
</pre>
        </div>

        <p>La siguiente imagen ilustra el orden en que el programa considera los distintos casos:</p>

        <p>
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="800" viewBox="-70 0 620 170" style="background-color: white;" font-family="sans-serif" font-size="14">
            <line x1="0" y1="30" x2="500" y2="30" stroke="black" stroke-width="3" />
            <polygon points="499,25 500,35 510,30" stroke="black" stroke-width="0" fill="black" />
            <line x1="0" y1="35" x2="0" y2="20" stroke="black" stroke-width="2" />
            <text x="0" y="15" text-anchor="middle">0</text>
            <line x1="90" y1="35" x2="90" y2="20" stroke="black" stroke-width="2" />
            <text x="90" y="15" text-anchor="middle">18</text>
            <line x1="325" y1="35" x2="325" y2="20" stroke="black" stroke-width="2" />
            <text x="325" y="15" text-anchor="middle">65</text>
            <text x="515" y="34" text-anchor="begin">edad</text>
            <text x="45" y="25" text-anchor="middle">sin carnet</text>
            <text x="207" y="25" text-anchor="middle">renueva cada 10 años</text>
            <text x="412" y="25" text-anchor="middle">renueva cada 5 años</text>

            <rect x="-50" y="50" width="565" height="30" stroke="white" stroke-width="0" fill="lightgray" />
            <text x="-60" y="70" text-anchor="end">1</text>
            <text x="-15" y="70" text-anchor="end">if</text>
            <line x1="0" y1="70" x2="90" y2="70" stroke="black" stroke-width="3" />
            <polygon points="0,65 0,75 -10,70" stroke="black" stroke-width="0" fill="black" />
            <circle cx="90" cy="70" r="4" stroke="black" stroke-width="2" fill="lightgray" />
            <text x="45" y="65" text-anchor="middle">$edad &lt; 18</text>

            <rect x="-50" y="90" width="565" height="30" stroke="white" stroke-width="0" fill="lightgray" />
            <text x="-60" y="110" text-anchor="end">2</text>
            <text x="-15" y="110" text-anchor="end">elseif</text>
            <line x1="90" y1="110" x2="325" y2="110" stroke="black" stroke-width="3" />
            <circle cx="90" cy="110" r="4" stroke="black" stroke-width="2" fill="black" />
            <circle cx="325" cy="110" r="4" stroke="black" stroke-width="2" fill="lightgray" />
            <text x="212" y="105" text-anchor="middle">$edad &gt;= 18 &amp;&amp; $edad &lt; 65</text>

            <rect x="-50" y="130" width="565" height="30" stroke="white" stroke-width="0" fill="lightgray" />
            <text x="-60" y="150" text-anchor="end">3</text>
            <text x="-15" y="150" text-anchor="end">else</text>
            <line x1="325" y1="150" x2="500" y2="150" stroke="black" stroke-width="3" />
            <polygon points="499,145 500,155 510,150" stroke="black" stroke-width="0" fill="black" />
            <circle cx="325" cy="150" r="4" stroke="black" stroke-width="2" fill="black" />
          </svg>
        </p>
      </li>
      <li>El caso central (entre 18 y 65 años) requiere una condición más compleja que el primer caso (menos de 18 años) o que el tercero (más de 65 años). Si una de las condiciones es más compleja que las demás, podemos simplificar el programa reservando ese caso más complejo para el <span class="php-res">else</span>, ya que entonces no necesitaremos escribirla. Así, el programa podría ser:

        <div class="codigo">
          <pre>
<code class="language-php">&lt;?php
$edad = rand(0, 100);

if ($edad &lt; 18) {
    print "&lt;p&gt;Si tiene $edad años, no puede conducir turismos.&lt;/p&gt;\n";
} elseif (<span class="codigo-resaltado">$edad &gt;= 65</span>) {
    print "&lt;p&gt;Si tiene $edad años, debe renovar el carnet de conducir turismos cada 5 años.&lt;/p&gt;\n";
} else {
    print "&lt;p&gt;Si tiene $edad años, debe renovar el carnet de conducir turismos cada 10 años.&lt;/p&gt;\n";
}</code>
</pre>
        </div>

        <p>La siguiente imagen ilustra el orden en que el programa considera los distintos casos:</p>

        <p>
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="800" viewBox="-70 0 620 170" style="background-color: white;" font-family="sans-serif" font-size="14">
            <line x1="0" y1="30" x2="500" y2="30" stroke="black" stroke-width="3" />
            <polygon points="499,25 500,35 510,30" stroke="black" stroke-width="0" fill="black" />
            <line x1="0" y1="35" x2="0" y2="20" stroke="black" stroke-width="2" />
            <text x="0" y="15" text-anchor="middle">0</text>
            <line x1="90" y1="35" x2="90" y2="20" stroke="black" stroke-width="2" />
            <text x="90" y="15" text-anchor="middle">18</text>
            <line x1="325" y1="35" x2="325" y2="20" stroke="black" stroke-width="2" />
            <text x="325" y="15" text-anchor="middle">65</text>
            <text x="515" y="34" text-anchor="begin">edad</text>
            <text x="45" y="25" text-anchor="middle">sin carnet</text>
            <text x="207" y="25" text-anchor="middle">renueva cada 10 años</text>
            <text x="412" y="25" text-anchor="middle">renueva cada 5 años</text>

            <rect x="-50" y="50" width="565" height="30" stroke="white" stroke-width="0" fill="lightgray" />
            <text x="-60" y="70" text-anchor="end">2</text>
            <text x="-15" y="70" text-anchor="end">if</text>
            <line x1="0" y1="70" x2="90" y2="70" stroke="black" stroke-width="3" />
            <polygon points="0,65 0,75 -10,70" stroke="black" stroke-width="0" fill="black" />
            <circle cx="90" cy="70" r="4" stroke="black" stroke-width="2" fill="lightgray" />
            <text x="45" y="65" text-anchor="middle">$edad &lt; 18</text>

            <rect x="-50" y="90" width="565" height="30" stroke="white" stroke-width="0" fill="lightgray" />
            <text x="-60" y="110" text-anchor="end">1</text>
            <text x="-15" y="110" text-anchor="end">elseif</text>
            <line x1="325" y1="110" x2="500" y2="110" stroke="black" stroke-width="3" />
            <polygon points="499,105 500,115 510,110" stroke="black" stroke-width="0" fill="black" />
            <circle cx="325" cy="110" r="4" stroke="black" stroke-width="2" fill="black" />
            <text x="412" y="105" text-anchor="middle">$edad &gt;= 65</text>

            <rect x="-50" y="130" width="565" height="30" stroke="white" stroke-width="0" fill="lightgray" />
            <text x="-60" y="150" text-anchor="end">3</text>
            <text x="-15" y="150" text-anchor="end">else</text>
            <line x1="90" y1="150" x2="325" y2="150" stroke="black" stroke-width="3" />
            <circle cx="90" cy="150" r="4" stroke="black" stroke-width="2" fill="black" />
            <circle cx="325" cy="150" r="4" stroke="black" stroke-width="2" fill="lightgray" />
          </svg>
        </p>
      </li>
      <li>Pero lo cierto es que en el programa inicial también se podría haber simplificado la segunda condición, sin necesidad de reordenar los casos:

        <div class="codigo">
          <pre>
<code class="language-php">&lt;?php
$edad = rand(0, 100);

if ($edad &lt; 18) {
    print "&lt;p&gt;Si tiene $edad años, no puede conducir turismos.&lt;/p&gt;\n";
} elseif <span class="codigo-resaltado">($edad &lt; 65)</span> {
    print "&lt;p&gt;Si tiene $edad años, debe renovar el carnet de conducir turismos cada 10 años.&lt;/p&gt;\n";
} else {
    print "&lt;p&gt;Si tiene $edad años, debe renovar el carnet de conducir turismos cada 5 años.&lt;/p&gt;\n";
}</code>
</pre>
        </div>

        <p>La siguiente imagen ilustra el orden en que el programa considera los distintos casos:</p>

        <p>
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="800" viewBox="-70 0 620 170" style="background-color: white;" font-family="sans-serif" font-size="14">
            <line x1="0" y1="30" x2="500" y2="30" stroke="black" stroke-width="3" />
            <polygon points="499,25 500,35 510,30" stroke="black" stroke-width="0" fill="black" />
            <line x1="0" y1="35" x2="0" y2="20" stroke="black" stroke-width="2" />
            <text x="0" y="15" text-anchor="middle">0</text>
            <line x1="90" y1="35" x2="90" y2="20" stroke="black" stroke-width="2" />
            <text x="90" y="15" text-anchor="middle">18</text>
            <line x1="325" y1="35" x2="325" y2="20" stroke="black" stroke-width="2" />
            <text x="325" y="15" text-anchor="middle">65</text>
            <text x="515" y="34" text-anchor="begin">edad</text>
            <text x="45" y="25" text-anchor="middle">sin carnet</text>
            <text x="207" y="25" text-anchor="middle">renueva cada 10 años</text>
            <text x="412" y="25" text-anchor="middle">renueva cada 5 años</text>

            <rect x="-50" y="50" width="565" height="30" stroke="white" stroke-width="0" fill="lightgray" />
            <text x="-60" y="70" text-anchor="end">1</text>
            <text x="-15" y="70" text-anchor="end">if</text>
            <line x1="0" y1="70" x2="90" y2="70" stroke="black" stroke-width="3" />
            <polygon points="0,65 0,75 -10,70" stroke="black" stroke-width="0" fill="black" />
            <circle cx="90" cy="70" r="4" stroke="black" stroke-width="2" fill="lightgray" />
            <text x="45" y="65" text-anchor="middle">$edad &lt; 18</text>

            <rect x="-50" y="90" width="565" height="30" stroke="white" stroke-width="0" fill="lightgray" />
            <text x="-60" y="110" text-anchor="end">2</text>
            <text x="-15" y="110" text-anchor="end">elseif</text>
            <line x1="0" y1="110" x2="325" y2="110" stroke="black" stroke-width="3" />
            <polygon points="0,105 0,115 -10,110" stroke="black" stroke-width="0" fill="black" />
            <circle cx="325" cy="110" r="4" stroke="black" stroke-width="2" fill="lightgray" />
            <text x="212" y="105" text-anchor="middle">$edad &lt; 65</text>

            <rect x="-50" y="130" width="565" height="30" stroke="white" stroke-width="0" fill="lightgray" />
            <text x="-60" y="150" text-anchor="end">3</text>
            <text x="-15" y="150" text-anchor="end">else</text>
            <line x1="325" y1="150" x2="500" y2="150" stroke="black" stroke-width="3" />
            <polygon points="499,145 500,155 510,150" stroke="black" stroke-width="0" fill="black" />
            <circle cx="325" cy="150" r="4" stroke="black" stroke-width="2" fill="black" />
          </svg>
        </p>

        <p>Este programa también funciona correctamente porque en una estructura <span class="php-res">if ... elseif .. else</span> cuando se cumple una de las comparaciones PHP ya no evalúa las siguientes condiciones. En este caso, si el programa llega a comprobar la segunda comparación (la del <span class="php-res">elseif</span>), es porque no se ha cumplido la primera (la del <span class="php-res">if</span>). Y si no se ha cumplido la primera es que <var>$edad</var> es mayor o igual a 18, por lo que no es necesario comprobarlo en la segunda condición.</p>
      </li>
      <li>Una diferencia importante entre este último programa y los anteriores es que en el último programa las condiciones son válidas porque se evalúan en un orden determinado. Si en el último programa se intercambiaran los dos primeros casos, el programa no funcionaría como se espera, puesto que para valores inferiores a 18, mostraría el mensaje "debe renovar el carnet de conducir turismos cada 10 años" y nunca mostraría el mensaje "no puede conducir".

        <div class="filaflex">
          <div class="icono-ok">
            <img src="../varios/iconos/icono-okno.svg" alt="Incorrecto" title="Incorrecto" width="40" height="40">
          </div>
          <div class="codigo">
            <pre>
<code class="language-php">&lt;?php
//  Este programa no funciona correctamente
$edad = rand(0, 100);

if ($edad &lt; 65) {
    print "&lt;p&gt;Si tiene $edad años, debe renovar el carnet de conducir turismos cada 10 años.&lt;/p&gt;\n";
} elseif ($edad &lt; 18) {
    print "&lt;p&gt;Si tiene $edad años, no puede conducir turismos.&lt;/p&gt;\n";
} else {
    print "&lt;p&gt;Si tiene $edad años, debe renovar el carnet de conducir turismos cada 5 años.&lt;/p&gt;\n";
}</code>
</pre>
          </div>
        </div>

        <p>La siguiente imagen ilustra el orden en que el programa considera los distintos casos:</p>

        <p>
          <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="800" viewBox="-70 0 620 170" style="background-color: white;" font-family="sans-serif" font-size="14">
            <line x1="0" y1="30" x2="500" y2="30" stroke="black" stroke-width="3" />
            <polygon points="499,25 500,35 510,30" stroke="black" stroke-width="0" fill="black" />
            <line x1="0" y1="35" x2="0" y2="20" stroke="black" stroke-width="2" />
            <text x="0" y="15" text-anchor="middle">0</text>
            <line x1="90" y1="35" x2="90" y2="20" stroke="black" stroke-width="2" />
            <text x="90" y="15" text-anchor="middle">18</text>
            <line x1="325" y1="35" x2="325" y2="20" stroke="black" stroke-width="2" />
            <text x="325" y="15" text-anchor="middle">65</text>
            <text x="515" y="34" text-anchor="begin">edad</text>
            <text x="45" y="25" text-anchor="middle">sin carnet</text>
            <text x="207" y="25" text-anchor="middle">renueva cada 10 años</text>
            <text x="412" y="25" text-anchor="middle">renueva cada 5 años</text>

            <rect x="-50" y="50" width="565" height="30" stroke="white" stroke-width="0" fill="lightgray" />
            <text x="-60" y="70" text-anchor="end">1</text>
            <text x="-15" y="70" text-anchor="end">if</text>
            <line x1="0" y1="70" x2="325" y2="70" stroke="black" stroke-width="3" />
            <polygon points="0,65 0,75 -10,70" stroke="black" stroke-width="0" fill="black" />
            <circle cx="325" cy="70" r="4" stroke="black" stroke-width="2" fill="lightgray" />
            <text x="212" y="65" text-anchor="middle">$edad &lt; 65</text>

            <rect x="-50" y="90" width="565" height="30" stroke="white" stroke-width="0" fill="lightgray" />
            <text x="-60" y="110" text-anchor="end">2</text>
            <text x="-15" y="110" text-anchor="end">elseif</text>
            <line x1="0" y1="110" x2="90" y2="110" stroke="black" stroke-width="3" />
            <polygon points="0,105 0,115 -10,110" stroke="black" stroke-width="0" fill="black" />
            <circle cx="90" cy="110" r="4" stroke="black" stroke-width="2" fill="lightgray" />
            <text x="45" y="105" text-anchor="middle">$edad &lt; 18</text>

            <rect x="-50" y="130" width="565" height="30" stroke="white" stroke-width="0" fill="lightgray" />
            <text x="-60" y="150" text-anchor="end">3</text>
            <text x="-15" y="150" text-anchor="end">else</text>
            <line x1="325" y1="150" x2="500" y2="150" stroke="black" stroke-width="3" />
            <polygon points="499,145 500,155 510,150" stroke="black" stroke-width="0" fill="black" />
            <circle cx="325" cy="150" r="4" stroke="black" stroke-width="2" fill="black" />
          </svg>
        </p>

        <p>Sin embargo, en los dos primeros programas se pueden reordenar los dos primeros casos y los programas siguen funcionando correctamente, ya que en esos programas la segunda condición no se basa en que se hayan filtrado valores en la primera condición.</p>
      </li>
    </ul>

    <h3>Casos que se incluyen unos a otros</h3>

    <p>En general, el orden que permite simplificar más las expresiones suele ser considerar primero los casos más particulares o más especiales y después los casos cada vez más generales.</p>

    <p>Consideremos un programa que pide un valor y nos dice:</p>

    <ul>
      <li>si es múltiplo de dos,</li>
      <li>si es múltiplo de cuatro (y de dos)</li>
      <li>si no es múltiplo de dos</li>
    </ul>

    <p><strong>Nota</strong>: El valor 0 se considerará múltiplo de 4 y de 2.</p>

    <p>
      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="700" viewBox="-85 0 565 140" style="background-color: white;" font-family="sans-serif" font-size="14">
        <line x1="0" y1="30" x2="460" y2="30" stroke="black" stroke-width="3" />
        <polygon points="460,25 460,35 470,30" stroke="black" stroke-width="0" fill="black" />
        <line x1="0" y1="35" x2="0" y2="20" stroke="black" stroke-width="2" />
        <text x="0" y="15" text-anchor="middle">0</text>
        <line x1="20" y1="35" x2="20" y2="20" stroke="black" stroke-width="2" />
        <text x="20" y="15" text-anchor="middle">1</text>
        <line x1="40" y1="35" x2="40" y2="20" stroke="black" stroke-width="2" />
        <text x="40" y="15" text-anchor="middle">2</text>
        <line x1="60" y1="35" x2="60" y2="20" stroke="black" stroke-width="2" />
        <text x="60" y="15" text-anchor="middle">3</text>
        <line x1="80" y1="35" x2="80" y2="20" stroke="black" stroke-width="2" />
        <text x="80" y="15" text-anchor="middle">4</text>
        <line x1="100" y1="35" x2="100" y2="20" stroke="black" stroke-width="2" />
        <text x="100" y="15" text-anchor="middle">5</text>
        <line x1="120" y1="35" x2="120" y2="20" stroke="black" stroke-width="2" />
        <text x="120" y="15" text-anchor="middle">6</text>
        <line x1="140" y1="35" x2="140" y2="20" stroke="black" stroke-width="2" />
        <text x="140" y="15" text-anchor="middle">7</text>
        <line x1="160" y1="35" x2="160" y2="20" stroke="black" stroke-width="2" />
        <text x="160" y="15" text-anchor="middle">8</text>
        <line x1="180" y1="35" x2="180" y2="20" stroke="black" stroke-width="2" />
        <text x="180" y="15" text-anchor="middle">9</text>
        <line x1="200" y1="35" x2="200" y2="20" stroke="black" stroke-width="2" />
        <text x="200" y="15" text-anchor="middle">10</text>
        <line x1="220" y1="35" x2="220" y2="20" stroke="black" stroke-width="2" />
        <text x="220" y="15" text-anchor="middle">11</text>
        <line x1="240" y1="35" x2="240" y2="20" stroke="black" stroke-width="2" />
        <text x="240" y="15" text-anchor="middle">12</text>
        <line x1="260" y1="35" x2="260" y2="20" stroke="black" stroke-width="2" />
        <text x="260" y="15" text-anchor="middle">13</text>
        <line x1="280" y1="35" x2="280" y2="20" stroke="black" stroke-width="2" />
        <text x="280" y="15" text-anchor="middle">14</text>
        <line x1="300" y1="35" x2="300" y2="20" stroke="black" stroke-width="2" />
        <text x="300" y="15" text-anchor="middle">15</text>
        <line x1="320" y1="35" x2="320" y2="20" stroke="black" stroke-width="2" />
        <text x="320" y="15" text-anchor="middle">16</text>
        <line x1="340" y1="35" x2="340" y2="20" stroke="black" stroke-width="2" />
        <text x="340" y="15" text-anchor="middle">17</text>
        <line x1="360" y1="35" x2="360" y2="20" stroke="black" stroke-width="2" />
        <text x="360" y="15" text-anchor="middle">18</text>
        <line x1="380" y1="35" x2="380" y2="20" stroke="black" stroke-width="2" />
        <text x="380" y="15" text-anchor="middle">19</text>
        <line x1="400" y1="35" x2="400" y2="20" stroke="black" stroke-width="2" />
        <text x="400" y="15" text-anchor="middle">20</text>
        <line x1="420" y1="35" x2="420" y2="20" stroke="black" stroke-width="2" />
        <text x="420" y="15" text-anchor="middle">21</text>
        <line x1="440" y1="35" x2="440" y2="20" stroke="black" stroke-width="2" />
        <text x="440" y="15" text-anchor="middle">...</text>

        <text x="-15" y="65" text-anchor="end">Pares</text>
        <line x1="-5" y1="55" x2="5" y2="65" stroke="black" stroke-width="2" />
        <line x1="-5" y1="65" x2="5" y2="55" stroke="black" stroke-width="2" />
        <line x1="35" y1="55" x2="45" y2="65" stroke="black" stroke-width="2" />
        <line x1="35" y1="65" x2="45" y2="55" stroke="black" stroke-width="2" />
        <line x1="75" y1="55" x2="85" y2="65" stroke="black" stroke-width="2" />
        <line x1="75" y1="65" x2="85" y2="55" stroke="black" stroke-width="2" />
        <line x1="115" y1="55" x2="125" y2="65" stroke="black" stroke-width="2" />
        <line x1="115" y1="65" x2="125" y2="55" stroke="black" stroke-width="2" />
        <line x1="155" y1="55" x2="165" y2="65" stroke="black" stroke-width="2" />
        <line x1="155" y1="65" x2="165" y2="55" stroke="black" stroke-width="2" />
        <line x1="195" y1="55" x2="205" y2="65" stroke="black" stroke-width="2" />
        <line x1="195" y1="65" x2="205" y2="55" stroke="black" stroke-width="2" />
        <line x1="235" y1="55" x2="245" y2="65" stroke="black" stroke-width="2" />
        <line x1="235" y1="65" x2="245" y2="55" stroke="black" stroke-width="2" />
        <line x1="275" y1="55" x2="285" y2="65" stroke="black" stroke-width="2" />
        <line x1="275" y1="65" x2="285" y2="55" stroke="black" stroke-width="2" />
        <line x1="315" y1="55" x2="325" y2="65" stroke="black" stroke-width="2" />
        <line x1="315" y1="65" x2="325" y2="55" stroke="black" stroke-width="2" />
        <line x1="355" y1="55" x2="365" y2="65" stroke="black" stroke-width="2" />
        <line x1="355" y1="65" x2="365" y2="55" stroke="black" stroke-width="2" />
        <line x1="395" y1="55" x2="405" y2="65" stroke="black" stroke-width="2" />
        <line x1="395" y1="65" x2="405" y2="55" stroke="black" stroke-width="2" />
        <text x="440" y="60" text-anchor="middle">...</text>

        <text x="-15" y="95" text-anchor="end">Múltiplos 4</text>
        <line x1="-5" y1="85" x2="5" y2="95" stroke="black" stroke-width="2" />
        <line x1="-5" y1="95" x2="5" y2="85" stroke="black" stroke-width="2" />
        <line x1="75" y1="85" x2="85" y2="95" stroke="black" stroke-width="2" />
        <line x1="75" y1="95" x2="85" y2="85" stroke="black" stroke-width="2" />
        <line x1="155" y1="85" x2="165" y2="95" stroke="black" stroke-width="2" />
        <line x1="155" y1="95" x2="165" y2="85" stroke="black" stroke-width="2" />
        <line x1="235" y1="85" x2="245" y2="95" stroke="black" stroke-width="2" />
        <line x1="235" y1="95" x2="245" y2="85" stroke="black" stroke-width="2" />
        <line x1="315" y1="85" x2="325" y2="95" stroke="black" stroke-width="2" />
        <line x1="315" y1="95" x2="325" y2="85" stroke="black" stroke-width="2" />
        <line x1="395" y1="85" x2="405" y2="95" stroke="black" stroke-width="2" />
        <line x1="395" y1="95" x2="405" y2="85" stroke="black" stroke-width="2" />
        <text x="440" y="90" text-anchor="middle">...</text>

        <text x="-15" y="125" text-anchor="end">Impares</text>
        <line x1="15" y1="115" x2="25" y2="125" stroke="black" stroke-width="2" />
        <line x1="15" y1="125" x2="25" y2="115" stroke="black" stroke-width="2" />
        <line x1="55" y1="115" x2="65" y2="125" stroke="black" stroke-width="2" />
        <line x1="55" y1="125" x2="65" y2="115" stroke="black" stroke-width="2" />
        <line x1="95" y1="115" x2="105" y2="125" stroke="black" stroke-width="2" />
        <line x1="95" y1="125" x2="105" y2="115" stroke="black" stroke-width="2" />
        <line x1="135" y1="115" x2="145" y2="125" stroke="black" stroke-width="2" />
        <line x1="135" y1="125" x2="145" y2="115" stroke="black" stroke-width="2" />
        <line x1="175" y1="115" x2="185" y2="125" stroke="black" stroke-width="2" />
        <line x1="175" y1="125" x2="185" y2="115" stroke="black" stroke-width="2" />
        <line x1="215" y1="115" x2="225" y2="125" stroke="black" stroke-width="2" />
        <line x1="215" y1="125" x2="225" y2="115" stroke="black" stroke-width="2" />
        <line x1="255" y1="115" x2="265" y2="125" stroke="black" stroke-width="2" />
        <line x1="255" y1="125" x2="265" y2="115" stroke="black" stroke-width="2" />
        <line x1="295" y1="115" x2="305" y2="125" stroke="black" stroke-width="2" />
        <line x1="295" y1="125" x2="305" y2="115" stroke="black" stroke-width="2" />
        <line x1="335" y1="115" x2="345" y2="125" stroke="black" stroke-width="2" />
        <line x1="335" y1="125" x2="345" y2="115" stroke="black" stroke-width="2" />
        <line x1="375" y1="115" x2="385" y2="125" stroke="black" stroke-width="2" />
        <line x1="375" y1="125" x2="385" y2="115" stroke="black" stroke-width="2" />
        <line x1="415" y1="115" x2="425" y2="125" stroke="black" stroke-width="2" />
        <line x1="415" y1="125" x2="425" y2="115" stroke="black" stroke-width="2" />
        <text x="440" y="120" text-anchor="middle">...</text>
      </svg>
    </p>

    <p>Los casos no son mutuamente excluyentes, puesto que los múltiplos de cuatro son también múltiplos de dos.</p>

    <ul>
      <li>El siguiente programa no sería correcto:
        <div class="filaflex">
          <div class="icono-ok">
            <img src="../varios/iconos/icono-okno.svg" alt="Incorrecto" title="Incorrecto" width="40" height="40">
          </div>
          <div class="codigo">
            <pre>
<code class="language-php">&lt;?php
//  Este programa no funciona correctamente
$numero = rand(0, 100);

if ($numero % 2 == 0) {
    print "&lt;p&gt;$numero es múltiplo de dos.&lt;/p&gt;\n";
} elseif ($numero % 4 == 0) {
    print "&lt;p&gt;$numero es múltiplo de cuatro y de dos.&lt;/p&gt;\n";
} else {
    print "&lt;p&gt;$numero no es múltiplo de dos.&lt;/p&gt;\n";
}</code>
</pre>
          </div>
        </div>
        <p>El error de este programa es que si <var>$numero</var> cumple la segunda condición (la de <span class="php-res">elseif</span>, ser múltiplo de cuatro), cumple también la primera (la de <span class="php-res">if</span>, ser múltiplo de dos). Entonces, si <var>$numero</var> es un múltiplo de cuatro, como también es múltiplo de dos, cumple la primera condición y el programa ejecuta el primer bloque de instrucciones, sin llegar a comprobar el resto de condiciones. Así, si por ejemplo <var>$numero</var> es 8, el programa dirá que es múltiplo de dos en vez de decir que es múltiplo de cuatro y de dos.</p>
      </li>
      <li>Una manera de corregir ese error es escribir condiciones que definan completamente los casos, es decir añadir en la primera condición que <var>$numero</var> no sea múltiplo de cuatro y en la segunda condición que <var>$numero</var> sea múltiplo de dos:

        <div class="codigo">
          <pre>
<code class="language-php">&lt;?php
$numero = rand(0, 100);

if ($numero % 2 == 0 &amp;&amp; $numero % 4 != 0) {
    print "&lt;p&gt;$numero es múltiplo de dos.&lt;/p&gt;\n";
} elseif ($numero %2 == 0 &amp;&amp; $numero % 4 == 0) {
    print "&lt;p&gt;$numero es múltiplo de cuatro y de dos.&lt;/p&gt;\n";
} else {
    print "&lt;p&gt;$numero no es múltiplo de dos.&lt;/p&gt;\n";
}</code>
</pre>
        </div>
      </li>
      <li>Este programa se puede simplificar de varias maneras. Por ejemplo, como los múltiplos de cuatro también son múltiplos de dos, no hace falta comprobar que se cumplen las dos cosas simultáneamente, basta comprobar con que el número sea múltiplo de cuatro:
        <div class="codigo">
          <pre>
<code class="language-php">&lt;?php
$numero = rand(0, 100);

if ($numero % 2 == 0 &amp;&amp; $numero % 4 != 0) {
    print "&lt;p&gt;$numero es múltiplo de dos.&lt;/p&gt;\n";
} elseif ($numero % 4 == 0) {
    print "&lt;p&gt;$numero es múltiplo de cuatro y de dos.&lt;/p&gt;\n";
} else {
    print "&lt;p&gt;$numero no es múltiplo de dos.&lt;/p&gt;\n";
}</code>
</pre>
        </div>

        <p>De hecho, aunque sea menos evidente, también bastaría con comprobar en la segunda condición que el número sea múltiplo de dos, puesto que si el programa llega a la segunda condición es que no se ha cumplido la primera, es decir que el número si es múltiplo de dos también es múltiplo de cuatro.</p>

        <div class="codigo">
          <pre>
<code class="language-php">&lt;?php
$numero = rand(0, 100);

if ($numero % 2 == 0 &amp;&amp; $numero % 4 != 0) {
    print "&lt;p&gt;$numero es múltiplo de dos.&lt;/p&gt;\n";
} elseif ($numero % 2 == 0) {
    print "&lt;p&gt;$numero es múltiplo de cuatro y de dos.&lt;/p&gt;\n";
} else {
    print "&lt;p&gt;$numero no es múltiplo de dos.&lt;/p&gt;\n";
}</code>
</pre>
        </div>
      </li>
      <li>Pero todavía podemos simplificar más el programa, ordenando de otra manera los casos:

        <div class="codigo">
          <pre>
<code class="language-php">&lt;?php
$numero = rand(0, 100);

if ($numero % 4 == 0) {
    print "&lt;p&gt;$numero es múltiplo de cuatro y de dos.&lt;/p&gt;\n";
} elseif ($numero % 2 == 0) {
    print "&lt;p&gt;$numero es múltiplo de dos.&lt;/p&gt;\n";
} else {
    print "&lt;p&gt;$numero no es múltiplo de dos.&lt;/p&gt;\n";
}</code>
</pre>
        </div>

        <p>Este programa funciona correctamente ya que aunque la segunda condición (la de <span class="php-res">elseif</span>) no distingue entre múltiplos de dos y de cuatro, si <var>$numero</var> es un múltiplo de cuatro, el programa no llega a evaluar la segunda condición porque se cumple la primera (la de <span class="php-res">if</span>).</p>
      </li>
      <li>Otra posible programa es el siguiente:

        <div class="codigo">
          <pre>
<code class="language-php">&lt;?php
$numero = rand(0, 100);

if ($numero % 4 == 0) {
    print "&lt;p&gt;$numero es múltiplo de cuatro y de dos.&lt;/p&gt;\n";
} elseif ($numero % 2 != 0) {
    print "&lt;p&gt;$numero no es múltiplo de dos.&lt;/p&gt;\n";
} else {
    print "&lt;p&gt;$numero es múltiplo de dos.&lt;/p&gt;\n";
}</code>
</pre>
        </div>

        <p>Este programa funciona correctamente porque, como en el programa anterior, la primera condición filtra los múltiplos de cuatro, por lo que los números restantes son impares o múltiplos de dos que no son múltiplos de cuatro.</p>
      </li>
    </ul>
  </section>

  <section id="omision-comparaciones">
    <h2>Omisión de comparaciones</h2>

    <p>En algunos casos, podemos escribir una condición sin necesidad de escribir comparaciones.</p>

    <h3>Comparaciones de variables lógicas</h3>

    <p>Si trabajamos con variables lógicas, no es necesario compararlas con los valores <span class="php-con">true</span> o <span class="php-con">false</span>, sino que podemos utilizarlas directamente.</p>

    <p>Por ejemplo, el programa siguiente define una variable lógica <span class="php-var">$esPepe</span> como el resultado de una comparación. Concretamente la variable será <span class="php-con">true</span> si la variable <span class="php-var">$nombre</span> es la cadena <span class="php-cad">"Pepe"</span> y <span class="php-con">false</span> si no.</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
$nombre = "Juan";
$esPepe = $nombre == "Pepe";

if (<span class="codigo-resaltado">$esPepe == true</span>) {
  print "&lt;p&gt;Su nombre es Pepe.&lt;/p&gt;\n";
}

if (<span class="codigo-resaltado">$esPepe == false</span>) {
  print "&lt;p&gt;Su nombre no es Pepe.&lt;/p&gt;\n";
}
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre><code class="language-html">&lt;p&gt;Su nombre no es Pepe&lt;/p&gt;</code>
</pre>
      </div>
    </div>

    <p>Pero si hacemos una tabla con los valores de las comparaciones en función de los posibles valores de <var>$esPepe</var>, podemos observar que la comparación de <var>$esPepe</var> con <span class="php-res">true</span> da el mismo resultado que la propia variable <var>$esPepe</var>, mientras que la comparación con <span class="php-res">false</span> da resultado contrario:</p>

    <table style="border-collapse: collapse; text-align: center; margin-left: auto; margin-right: auto;">
      <col style="border-right: black 2px solid">
      <tr style="border-bottom: black 2px solid">
        <th style="padding: 0 10px;">$esPepe</th>
        <th style="padding: 0 10px;">$esPepe == true</th>
        <th style="padding: 0 10px;">$esPepe == false</th>
      </tr>
      <tr>
        <td>T</td>
        <td>T</td>
        <td>F</td>
      </tr>
      <tr>
        <td>F</td>
        <td>F</td>
        <td>T</td>
      </tr>
    </table>

    <p>Por tanto en las condiciones podemos utilizar directamente la variable o su negación en vez de las comparaciones:</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
$nombre = "Pepe";
$esPepe = $nombre == "Pepe";

if (<span class="codigo-resaltado">$esPepe</span>) {
  print "&lt;p&gt;Su nombre es Pepe.&lt;/p&gt;\n";
}

if (<span class="codigo-resaltado">!$esPepe</span>) {
  print "&lt;p&gt;Su nombre no es Pepe.&lt;/p&gt;\n";
}
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre><code class="language-html">&lt;p&gt;Su nombre es Pepe&lt;/p&gt;</code>
</pre>
      </div>
    </div>

    <h3>Comparaciones de variables numéricas</h3>

    <p>Si trabajamos con variables numéricas, no es necesario compararlas con 0, sino que podemos utilizarlas directamente, aprovechando que PHP evalúa el valor 0 (o 0.0) como <span class="php-con">false</span> y cualquier valor distinto de cero como <span class="php-con">true</span>.</p>

    <p><strong>Nota</strong>: Las conversiones implícitas de tipos deben utilizarse con cuidado, cuando estemos seguros de los valores que van a ser convertidos. El uso indiscriminado de conversiones implícitas puede producir errores imprevistos. En caso de duda, es preferible no utilizarlas.</p>

    <p>Por ejemplo, el programa siguiente define un contador <span class="php-var">$cuenta</span> que contiene el número de cincos obtenidos al ejecutar el bucle <span class="php-res">for</span>.</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
$cuenta = 0;

for ($i = 0; $i &lt; 3; $i++) {
    $dado = rand(1, 6);
    print "&lt;p&gt;Tirada de dado: $dado&lt;/p&gt;\n";
    if ($dado == 5) {
        $cuenta++;
    }
}

if (<span class="codigo-resaltado">$cuenta == 0</span>) {
    print "&lt;p&gt;No ha salido ningún cinco.&lt;/p&gt;\n";
}

if (<span class="codigo-resaltado">$cuenta &gt; 0</span>) {
    print "&lt;p&gt;Han salido $cuenta cinco(s).&lt;/p&gt;\n";
}
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre><code class="language-html">&lt;p&gt;Tirada de dado: 6&lt;/p&gt;
&lt;p&gt;Tirada de dado: 4&lt;/p&gt;
&lt;p&gt;Tirada de dado: 1&lt;/p&gt;
&lt;p&gt;No ha salido ningún cinco.&lt;/p&gt;</code>
</pre>
      </div>
    </div>

    <p>Podemos escribir simplemente:</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
$cuenta = 0;

for ($i = 0; $i &lt; 3; $i++) {
    $dado = rand(1, 6);
    print "&lt;p&gt;Tirada de dado: $dado&lt;/p&gt;\n";
    if ($dado == 5) {
        $cuenta++;
    }
}

if (<span class="codigo-resaltado">!$cuenta</span>) {
    print "&lt;p&gt;No ha salido ningún cinco.&lt;/p&gt;\n";
}

if (<span class="codigo-resaltado">$cuenta</span>) {
    print "&lt;p&gt;Han salido $cuenta cinco(s).&lt;/p&gt;\n";
}
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre><code class="language-html">&lt;p&gt;Tirada de dado: 5&lt;/p&gt;
&lt;p&gt;Tirada de dado: 5&lt;/p&gt;
&lt;p&gt;Tirada de dado: 1&lt;/p&gt;
&lt;p&gt;Han salido 2 cinco(s).&lt;/p&gt;</code>
</pre>
      </div>
    </div>

    <h3>Comparaciones de variables de cadenas</h3>

    <p>Si trabajamos con cadenas, no es necesario compararlas con la cadena vacía, sino que podemos utilizarlas directamente, aprovechando que PHP evalúa la cadena vacía como <span class="php-con">false</span> y cualquier valor distinto de la cadena vacía como <span class="php-con">true</span>.</p>

    <p><strong>Nota</strong>: Las conversiones implícitas de tipos deben utilizarse con cuidado, cuando estemos seguros de los valores que van a ser convertidos. El uso indiscriminado de conversiones implícitas puede producir errores imprevistos. En caso de duda, es preferible no utilizarlas.</p>

    <p>Por ejemplo, el programa siguiente define un contador <span class="php-var">$cuenta</span> que contiene el número de cincos obtenidos al ejecutar el bucle <span class="php-res">for</span>.</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
$nombre = "";

if (<span class="codigo-resaltado">$nombre == ""</span>) {
    print "&lt;p&gt;No ha escrito su nombre.&lt;/p&gt;\n";
}

if (<span class="codigo-resaltado">$nombre != ""</span>) {
    print "&lt;p&gt;Su nombre es $nombre.&lt;/p&gt;\n";
}
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre><code class="language-html">&lt;p&gt;No ha escrito su nombre.&lt;/p&gt;</code>
</pre>
      </div>
    </div>

    <p>Podemos escribir simplemente:</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
$nombre = "Alberto";

if (<span class="codigo-resaltado">!$nombre</span>) {
    print "&lt;p&gt;No ha escrito su nombre.&lt;/p&gt;\n";
}

if (<span class="codigo-resaltado">$nombre</span>) {
    print "&lt;p&gt;Su nombre es $nombre.&lt;/p&gt;\n";
}
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre><code class="language-html">&lt;p&gt;Su nombre es Alberto.&lt;/p&gt;</code>
</pre>
      </div>
    </div>
  </section>

  <footer>
    <p class="ultmod">Última modificación de esta página: 6 de noviembre de 2025</p>

    <p class="licencia">
      <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es"><img src="../varios/iconos/icono-cc-by-sa.svg" alt="Licencia Creative Commons" title="Licencia Creative Commons BY-SA" width="120" height="42"></a><br>
      Esta página forma parte del curso <strong><a href="https://www.mclibre.org/consultar/php/">Programación web en PHP</a></strong> por <a href="https://www.mclibre.org/" rel="author">Bartolomé Sintes Marco</a><br>
      que se distribuye bajo una <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es">Licencia Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional (CC BY-SA 4.0)</a>.
    </p>
  </footer>
</body>
</html>
