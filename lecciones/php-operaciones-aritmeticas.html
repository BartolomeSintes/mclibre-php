<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Operaciones aritméticas. PHP. Bartolomé Sintes Marco. www.mclibre.org</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../varios/php.css" title="mclibre">
  <link rel="icon" href="../varios/favicon.svg">
  <link rel="stylesheet" href="../varios/prism.css">
  <script src="../varios/prism.js"></script>
</head>

<body>
  <h1>Operaciones aritméticas</h1>

  <nav>
    <p>
      <a href="../index.html"><img src="../varios/iconos/icono-php.svg" alt="Índice de PHP" title="Índice de PHP" width="48" height="48"></a>
      <a href="#"><img src="../varios/iconos/icono-arrow-circle-up.svg" alt="Principio de la página" title="Principio de la página" width="36" height="36"></a>
    </p>

    <div class="toc">
      <h2>Operaciones aritméticas</h2>

      <ul>
        <li><a href="#numeros">Números</a></li>
        <li><a href="#operadores">Operadores aritméticos</a></li>
        <li><a href="#incremento">Incremento y decremento</a></li>
        <li><a href="#resto">Resto de una división</a></li>
        <li><a href="#parentesis">Paréntesis</a></li>
        <li><a href="#combinados">Operadores combinados</a></li>
        <li><a href="#redondear">Redondear un número</a></li>
        <li><a href="#potencias">Potencias y raíces</a></li>
        <li><a href="#maxmin">Máximo y mínimo</a></li>
        <li><a href="#formatear">Formatear un número</a></li>
        <li><a href="#aleatorios">Números aleatorios</a></li>
      </ul>
    </div>
  </nav>

  <section id="numeros">
    <h2>Números</h2>

    <p>Los números decimales se escriben con punto (.), no con coma (,).</p>
  </section>

  <section id="operadores">
    <h2>Operadores aritméticos</h2>

    <p>Los operadores aritméticos básicos son los siguientes:</p>

    <table class="tabla-con-borde">
      <thead>
        <tr>
          <th>Ejemplo</th>
          <th>Nombre</th>
          <th>Resultado</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>-$a</td>
          <td>Negación</td>
          <td>El opuesto de $a.</td>
        </tr>
        <tr>
          <td>$a + $b</td>
          <td>Suma</td>
          <td>Suma de $a y $b.</td>
        </tr>
        <tr>
          <td>$a - $b</td>
          <td>Resta</td>
          <td>Diferencia entre $a y $b.</td>
        </tr>
        <tr>
          <td>$a * $b</td>
          <td>Multiplicación</td>
          <td>Producto de $a y $b.</td>
        </tr>
        <tr>
          <td>$a / $b</td>
          <td>División</td>
          <td>Cociente de $a y $b.</td>
        </tr>
        <tr>
          <td>$a % $b</td>
          <td>Módulo</td>
          <td>Resto de $a dividido por $b.

            <p><strong>Cuidado</strong>: Los números se convierten a enteros antes de efectuar el cálculo. Por ejemplo, 5 % 2.5 da como resultado 1 y no 0 porque calcula el resto de 5 entre 2, no de 5 entre 2.5.</p>
          </td>
        </tr>
      </tbody>
    </table>

    <p>Hay que tener en cuenta que en PHP un entero no puede ser arbitrariamente grande. A partir de cierto valor, que depende del sistema operativo, PHP convierte automáticamente los enteros en float, perdiéndose precisión. En un sistema de 32 bits, el valor máximo es 2147483647 (2<sup>31</sup>-1).</p>

    <p>Si se necesita trabajar con enteros mayores, es necesario utilizar las <a href="https://www.php.net/manual/en/book.bc.php">funciones bcmath</a>.</p>
  </section>

  <section id="incremento">
    <h2>Operadores de incremento y decremento</h2>

    <table class="tabla-con-borde">
      <thead>
        <tr>
          <th>Ejemplo</th>
          <th>Nombre</th>
          <th>Efecto</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>++$a</td>
          <td>Pre-incremento</td>
          <td>Incrementa $a en uno, y luego devuelve $a.</td>
        </tr>
        <tr>
          <td>$a++</td>
          <td>Post-incremento</td>
          <td>Devuelve $a, y luego incrementa $a en uno.</td>
        </tr>
        <tr>
          <td>--$a</td>
          <td>Pre-decremento</td>
          <td>Decrementa $a en uno, luego devuelve $a.</td>
        </tr>
        <tr>
          <td>$a--</td>
          <td>Post-decremento</td>
          <td>Devuelve $a, luego decrementa $a en uno.</td>
        </tr>
      </tbody>
    </table>

    <hr class="corta">

    <p>La diferencia entre el pre-incremento y el post-incremento es que en el primer caso primero se incrementa la variable y después se utiliza y en el segundo primero se utiliza y después se incrementa.</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
$valor = 9;
print "&lt;p&gt;" . ++$valor . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre><code class="language-html">&lt;p&gt;10&lt;/p&gt;</code></pre>
      </div>
    </div>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
$valor = 9;
print "&lt;p&gt;" . $valor++ . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre><code class="language-html">&lt;p&gt;9&lt;/p&gt;</code></pre>
      </div>
    </div>

    <hr class="corta">

    <p>El operador de incremento funciona también con caracteres, teniendo en cuenta que al incrementar el carácter 'z' se obtiene la cadena 'aa'. El operador de decremento no funciona con caracteres.</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
$valor = "b";
print "&lt;p&gt;" . ++$valor . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre><code class="language-html">&lt;p&gt;c&lt;/p&gt;</code></pre>
      </div>
    </div>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
$valor = "z";
print "&lt;p&gt;" . ++$valor . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre><code class="language-html">&lt;p&gt;aa&lt;/p&gt;</code></pre>
      </div>
    </div>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
$valor = "a9z";
print "&lt;p&gt;" . ++$valor . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre><code class="language-html">&lt;p&gt;b0a&lt;/p&gt;</code></pre>
      </div>
    </div>
  </section>

  <section id="resto">
    <h2>Resto de una división</h2>

    <p>El operador <a href="https://www.php.net/manual/en/language.operators.arithmetic.php"><span class="php-fun">%</span></a> calcula el resto de una división entera</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;El resto de 17 dividido entre 3 es " . 17 % 3 . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre><code class="language-html">&lt;p&gt;El resto de 17 dividido entre 3 es 2&lt;/p&gt;</code></pre>
      </div>
    </div>

    <hr class="corta">

    <p>La función <a href="https://www.php.net/manual/en/function.fmod.php"><span class="php-fun">fmod</span></a> calcula el resto de una división con números decimales</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;El resto de 17 dividido entre 3.1 es " . fmod(17, 3.1) . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre><code class="language-html">&lt;p&gt;El resto de 17 dividido entre 3.1 es 1.5&lt;/p&gt;</code></pre>
      </div>
    </div>

    <p>Hay que tener en cuenta que en PHP un entero no puede ser arbitrariamente grande. A partir de cierto valor, que depende del sistema operativo, PHP convierte automáticamente los enteros en float, perdiéndose precisión. En un sistema de 32 bits, el valor máximo es 2147483647 (2<sup>31</sup>-1).</p>

    <p>Si se necesita trabajar con enteros mayores, es necesario utilizar las <a href="https://www.php.net/manual/en/book.bc.php">funciones bcmath</a>.</p>
  </section>

  <section id="parentesis">
    <h2>Paréntesis</h2>

    <p>Los operadores aritméticos tienen el mismo orden de precedencia que en Matemáticas. Concretamente, el orden de precedencia de los operadores comentados anteriormente es, de mayor a menor, el siguiente (los operadores indicados en el mismo grupo se efectúan en el orden en que aparecen en la expresión):</p>
    <ul>
      <li>++ (incremento) -- (decremento)</li>
      <li>* (multiplicación) / (división) % (resto)</li>
      <li>+ (suma) - (resta)</li>
    </ul>

    <p>Los paréntesis permiten agrupar operaciones de manera que las operaciones entre paréntesis se realicen antes que las operaciones fuera de los paréntesis. Se aconseja no utilizar paréntesis cuando las operaciones den el mismo resultado con o sin paréntesis.</p>
  </section>

  <section id="combinados">
    <h2>Operadores combinados</h2>

    <p>Los operadores combinados permiten simplificar algunas expresiones de asignación:</p>

    <table class="tabla-con-borde">
      <thead>
        <tr>
          <th>Ejemplo</th>
          <th>Nombre</th>
          <th>Equivale a </th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>$a += $b</td>
          <td>Suma</td>
          <td>$a = $a + $b</td>
        </tr>
        <tr>
          <td>$a -= $b</td>
          <td>Resta</td>
          <td>$a = $a - $b</td>
        </tr>
        <tr>
          <td>$a *= $b</td>
          <td>Multiplicación</td>
          <td>$a = $a * $b</td>
        </tr>
        <tr>
          <td>$a /= $b</td>
          <td>División</td>
          <td>$a = $a / $b</td>
        </tr>
        <tr>
          <td>$a %= $b</td>
          <td>Módulo</td>
          <td>$a = $a % $b</td>
        </tr>
      </tbody>
    </table>
  </section>

  <section id="redondear">
    <h2>Redondear un número</h2>

    <p>La función <a href="https://www.php.net/manual/en/function.round.php"><span class="php-fun">round(x)</span></a> redondea el número x al entero más próximo.</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;2.6 se redondea con round() a " . round(2.6) . "&lt;/p&gt;\n";
print "&lt;p&gt;2.3 se redondea con round() a " . round(2.3) . "&lt;/p&gt;\n";
print "&lt;p&gt;-2.6 se redondea con round() a " . round(-2.6) . "&lt;/p&gt;\n";
print "&lt;p&gt;-2.3 se redondea con round() a " . round(-2.3) . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre>
<code class="language-html">&lt;p&gt;2.6 se redondea con round() a 3&lt;/p&gt;
&lt;p&gt;2.3 se redondea con round() a 2&lt;/p&gt;
&lt;p&gt;-2.6 se redondea con round() a -3&lt;/p&gt;
&lt;p&gt;-2.3 se redondea con round() a -2&lt;/p&gt;</code>
</pre>
      </div>
    </div>

    <p>La función <span class="php-fun">round()</span> se puede utilizar para verificar si un número es un número entero (positivo o negativo), comprobando si un número coincide con su valor redondeado.</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
$numero = 4.3;
if ($numero == round($numero)) {
    print "&lt;p&gt;$numero es un número entero&lt;/p&gt;\n";
} else {
    print "&lt;p&gt;$numero no es un número entero&lt;/p&gt;\n";
}

$numero = -6;
if ($numero == round($numero)) {
    print "&lt;p&gt;$numero es un número entero&lt;/p&gt;\n";
} else {
    print "&lt;p&gt;$numero no es un número entero&lt;/p&gt;\n";
}
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre>
<code class="language-html">&lt;p&gt;4.3 no es un número entero&lt;/p&gt;
&lt;p&gt;-6 es un número entero&lt;/p&gt;</code>
</pre>
      </div>
    </div>

    <hr class="corta">

    <p>La función <a href="https://www.php.net/manual/en/function.round.php"><span class="php-fun">round(x,n)</span></a> redondea x con n decimales (si n es negativo redondea a decenas, centenas, etc.).</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;2.6574 se redondea con round() con dos decimales a " . round(2.6574, 2) . "&lt;/p&gt;\n";
print "&lt;p&gt;3141592 redondeado con round() con centenas es " . round(3141592, -2) . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre>
<code class="language-html">&lt;p&gt;2.6574 se redondea con round() con dos decimales a 2.66&lt;/p&gt;
&lt;p&gt;3141592 redondeado con round() con centenas es 3141600&lt;/p&gt;</code>
</pre>
      </div>
    </div>

    <hr class="corta">

    <p>La función <a href="https://www.php.net/manual/en/function.floor.php"><span class="php-fun">floor(x)</span></a> redondea el número x al entero inferior (es decir, devuelve la parte entera).</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;2.6 se redondea con floor() a " . floor(2.6) . "&lt;/p&gt;\n";
print "&lt;p&gt;2.3 se redondea con floor() a " . floor(2.3) . "&lt;/p&gt;\n";
print "&lt;p&gt;-2.6 se redondea con floor() a " . floor(-2.6) . "&lt;/p&gt;\n";
print "&lt;p&gt;-2.3 se redondea con floor() a " . floor(-2.3) . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre>
<code class="language-html">&lt;p&gt;2.6 se redondea con floor() a 2&lt;/p&gt;
&lt;p&gt;2.3 se redondea con floor() a 2&lt;/p&gt;
&lt;p&gt;-2.6 se redondea con floor() a -3&lt;/p&gt;
&lt;p&gt;-2.3 se redondea con floor() a -3&lt;/p&gt;</code>
</pre>
      </div>
    </div>

    <hr class="corta">

    <p>La función <a href="https://www.php.net/manual/en/function.ceil.php"><span class="php-fun">ceil(x)</span></a> redondea el número x al entero superior.</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;2.6 se redondea con ceil() a " . ceil(2.6) . "&lt;/p&gt;\n";
print "&lt;p&gt;2.3 se redondea con ceil() a " . ceil(2.3) . "&lt;/p&gt;\n";
print "&lt;p&gt;-2.6 se redondea con ceil() a " . ceil(-2.6) . "&lt;/p&gt;\n";
print "&lt;p&gt;-2.3 se redondea con ceil() a " . ceil(-2.3) . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre>
<code class="language-html">&lt;p&gt;2.6 se redondea con ceil() a 3&lt;/p&gt;
&lt;p&gt;2.3 se redondea con ceil() a 3&lt;/p&gt;
&lt;p&gt;-2.6 se redondea con ceil() a -2&lt;/p&gt;
&lt;p&gt;-2.3 se redondea con ceil() a -2&lt;/p&gt;</code>
</pre>
      </div>
    </div>
  </section>

  <section id="potencias">
    <h2>Potencias y raíces</h2>

    <p>La función <a href="https://www.php.net/manual/en/function.pow.php"><span class="php-fun">pow(x, y)</span></a> calcula x elevado a y.</p>

    <p>En PHP 5.6 (publicado en agosto de 2014), se introdujo el operador <a href="https://www.php.net/manual/en/language.operators.arithmetic.php">**</a>, equivalente a la función <span class="php-fun">pow()</span>. [<a href="https://www.php.net/manual/en/migration56.new-features.php#migration56.new-features.exponentiation">referencia</a>]</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;2&lt;sup&gt;3&lt;/sup&gt; = " . pow(2, 3) . "&lt;/p&gt;\n";
print "\n";
print "&lt;p&gt;2&lt;sup&gt;3&lt;/sup&gt; = " . 2 ** 3 . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado">
<p>2<sup>3</sup> = 8</p>

<p>2<sup>3</sup> = 8</p>
      </div>
    </div>

    <p>La función <strong>pow()</strong> permite calcular raíces, teniendo en cuenta que una raíz n-ésima es una potencia 1/n.</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;La raíz cuadrada de 25 es " . pow(25, 1 / 2) . "&lt;/p&gt;\n";
print "\n";
print "&lt;p&gt;La raíz cuadrada de 25 es " . pow(25, 0.5) . "&lt;/p&gt;\n";
print "\n";
print "&lt;p&gt;La raíz cuadrada de 25 es " . 25 ** (1 / 2) . "&lt;/p&gt;\n";
print "\n";
print "&lt;p&gt;La raíz cuadrada de 25 es " . 25 ** 0.5 . "&lt;/p&gt;\n";
print "\n";
print "&lt;p&gt;La raíz cúbica de 1000 es " . pow(1000, 1 / 3) . "&lt;/p&gt;\n";
print "\n";
print "&lt;p&gt;La raíz cúbica de 1000 es " . 1000 ** (1 / 3) . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre>
<code class="language-html">&lt;p&gt;La raíz cuadrada de 25 es 5&lt;/p&gt;

&lt;p&gt;La raíz cuadrada de 25 es 5&lt;/p&gt;

&lt;p&gt;La raíz cuadrada de 25 es 5&lt;/p&gt;

&lt;p&gt;La raíz cuadrada de 25 es 5&lt;/p&gt;

&lt;p&gt;La raíz cúbica de 1000 es 10&lt;/p&gt;

&lt;p&gt;La raíz cúbica de 1000 es 10&lt;/p&gt;</code>
</pre>
      </div>
    </div>

    <p>En el caso de las raíces cuadradas, se puede utilizar también la  función <a href="https://www.php.net/manual/en/function.sqrt.php"><span class="php-fun">sqrt(x)</span></a>.</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;La raíz cuadrada de 25 es " . sqrt(25) . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre>
<code class="language-html">&lt;p&gt;La raíz cuadrada de 25 es 5&lt;/p&gt;</code>
</pre>
      </div>
    </div>
  </section>

  <section id="maxmin">
    <h2>Máximo y mínimo</h2>

    <p>Las funciones <a href="https://www.php.net/manual/en/function.max.php"><span class="php-fun">max()</span></a> y <a href="https://www.php.net/manual/en/function.min.php"><span class="php-fun">min()</span></a> devuelven el máximo y el mínimo, respectivamente, de una lista o matriz de valores..</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;El máximo es " . max(20, 40, 25.1, 14.7) . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre><code class="language-html">&lt;p&gt;El máximo es 40&lt;/p&gt;</code></pre>
      </div>
    </div>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;El mínimo es " . min(20, 40, 25.1, 14.7) . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre><code class="language-html">&lt;p&gt;El mínimo es 14.7&lt;/p&gt;</code></pre>
      </div>
    </div>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
$datos = [20, 40, 25.1, 14.7];
print "&lt;p&gt;El mínimo es " . min($datos) . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre><code class="language-html">&lt;p&gt;El mínimo es 14.7&lt;/p&gt;</code></pre>
      </div>
    </div>
  </section>

  <section id="formatear">
    <h2>Formatear un número</h2>

    <p>Para escribir un número con los símbolos de separación de decimales y de miles españoles, es decir, una coma (,) para separar la parte entera de la decimal y un punto (.) para separar las cifras de la parte entera en grupos de tres, se puede utilizar la función <a href="https://www.php.net/manual/en/function.number-format.php"><span class="php-fun">number_format()</span></a>.</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;" . number_format(1300, 5) . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre><code class="language-html">&lt;p&gt;1,300.00000&lt;/p&gt;</code></pre>
      </div>
    </div>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;" . number_format(123456.789, 2) . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre><code class="language-html">&lt;p&gt;123,456.79&lt;/p&gt;</code></pre>
      </div>
    </div>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;" . number_format(123456789123, 0, ",", ".") . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre><code class="language-html">&lt;p&gt;123.456.789.123&lt;/p&gt;</code></pre>
      </div>
    </div>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;" . number_format(123456789123456.789, 2, ",", ".") . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre><code class="language-html">&lt;p&gt;123.456.789.123.456,78&lt;/p&gt;</code></pre>
      </div>
    </div>

    <p>La función requiere dos o cuatro argumentos:</p>
    <ul>
      <li>el primer argumento es el número a formatear.</li>
      <li>el segundo argumento es el número de decimales a mostrar (el número se redondea o trunca dependiendo de la longitud del número, compárese el segundo y el cuarto ejemplo de los ejemplos anteriores).</li>
      <li>el tercer argumento es el carácter a utilizar como separador de la parte entera de la decimal.</li>
      <li>el cuarto argumento es el carácter a utilizar como separador de miles.</li>
    </ul>

    <p>La función devuelve el número formateado. Si sólo se utilizan dos argumentos, se utiliza el punto como separador de parte entera y decimal y la coma como separador de miles (notación inglesa).</p>
  </section>

  <section id="aleatorios">
    <h2>Números aleatorios</h2>

    <p>Para obtener un número entero aleatorio entre dos valores determinados, se pueden utilizar la función <a href="https://www.php.net/manual/en/function.rand.php"><span class="php-fun">rand()</span></a> o la función <a href="https://www.php.net/manual/en/function.mt-rand.php"><span class="php-fun">mt_rand()</span></a> (más rápida, basada en el algoritmo <a href="https://en.wikipedia.org/wiki/Mersenne_Twister">Mersenne Twister</a>). Ambas funciones requieren dos argumentos:</p>
    <ul>
      <li>El primer argumento es el valor mínimo que se quiere obtener</li>
      <li>El segundo argumento es el valor máximo que se quiere obtener.</li>
    </ul>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;" . mt_rand(1, 6) . "&lt;/p&gt;\n";
print "&lt;p&gt;" . mt_rand(1, 6) . "&lt;/p&gt;\n";
print "&lt;p&gt;" . mt_rand(1, 6) . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre>
<code class="language-html">&lt;p&gt;5&lt;/p&gt;
&lt;p&gt;3&lt;/p&gt;
&lt;p&gt;6&lt;/p&gt;</code>
</pre>
      </div>
    </div>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;" . rand(-10, 10) . "&lt;/p&gt;\n";
print "&lt;p&gt;" . rand(-10, 10) . "&lt;/p&gt;\n";
print "&lt;p&gt;" . rand(-10, 10) . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre>
<code class="language-html">&lt;p&gt;-8&lt;/p&gt;
&lt;p&gt;-10&lt;/p&gt;
&lt;p&gt;3&lt;/p&gt;</code>
</pre>
      </div>
    </div>

    <p>Si se llama a las funciones sin argumentos, estas devuelven un número entero aleatorio entre 0 y un valor máximo que es el que devuelve la función <a href="https://www.php.net/manual/en/function.getrandmax.php"><span class="php-fun">getrandmax()</span></a> o <a href="https://www.php.net/manual/en/function.mt-getrandmax.php"><span class="php-fun">mt_getrandmax()</span></a> (este valor depende del sistema operativo).</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;" . mt_getrandmax() . "&lt;/p&gt;\n";
print "&lt;p&gt;" . mt_rand() . "&lt;/p&gt;\n";
print "&lt;p&gt;" . mt_rand() . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre>
<code class="language-html">&lt;p&gt;2147483647&lt;/p&gt;
&lt;p&gt;2023208892&lt;/p&gt;
&lt;p&gt;800052801&lt;/p&gt;</code>
</pre>
      </div>
    </div>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;" . getrandmax() . "&lt;/p&gt;\n";
print "&lt;p&gt;" . rand() . "&lt;/p&gt;\n";
print "&lt;p&gt;" . rand() . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre>
<code class="language-html">&lt;p&gt;32767&lt;/p&gt;
&lt;p&gt;12279&lt;/p&gt;
&lt;p&gt;24164&lt;/p&gt;</code>
</pre>
      </div>
    </div>

    <p>La función <span class="php-fun">rand()</span> puede devolver valores mayores que los que devuelve cuando se la llama sin argumentos, pero no se puede superar el mayor número entero que maneja PHP (<a href="php-constantes.html#phpintmax">PHP_INT_MAX</a>).</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;" . PHP_INT_MAX . "&lt;/p&gt;";<br>print "&lt;p&gt;" . rand(100000, 200000) . "&lt;/p&gt;\n";
print "&lt;p&gt;" . mt_rand(100000000000, 200000000000) . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre>
<code class="language-html">&lt;p&gt;2147483647&lt;/p&gt;
&lt;p&gt;166031&lt;/p&gt;
<strong>Warning</strong>: mt_rand(): max(-1863462912) is smaller than min(1215752192) in <strong>prueba.php</strong> on line <strong>3</strong></code>
</pre>
      </div>
    </div>

    <hr class="corta">

    <p>Las funciones <span class="php-fun">rand()</span> y <span class="php-fun">mt_rand()</span> generan números aleatorios que no se pueden considerar <a href="https://en.wikipedia.org/wiki/Cryptographically_secure_pseudorandom_number_generator">criptográficamente seguros</a>. En PHP 7.0 se incorporó una nueva función, <a href="https://www.php.net/manual/en/function.random-int.php"><span class="php-fun">random_int()</span></a>, que sí puede considerarse criptográficamente segura.</p>
  </section>

  <footer>
    <p class="ultmod">Última modificación de esta página: 8 de octubre de 2021</p>

    <p class="licencia">
      <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES"><img src="../varios/iconos/icono-cc-by-sa.svg" alt="Licencia Creative Commons" title="Licencia Creative Commons BY-SA" width="120" height="42"></a><br>
      Esta página forma parte del curso <strong><a href="https://www.mclibre.org/consultar/php/">Programación web en PHP</a></strong> por <a href="https://www.mclibre.org/" rel="author">Bartolomé Sintes Marco</a><br>
      que se distribuye bajo una <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES">Licencia Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional (CC BY-SA 4.0)</a>.
    </p>
  </footer>
</body>
</html>
