<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>Constantes y constantes predefinidas. PHP. Bartolomé Sintes Marco. www.mclibre.org</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="../varios/php.css" title="mclibre">
  <link rel="icon" href="../varios/favicon.svg">
  <link rel="stylesheet" href="../varios/prism.css">
  <script src="../varios/prism.js"></script>
</head>

<body>
  <h1>Constantes y constantes predefinidas</h1>

  <nav>
    <p>
      <a href="../index.html"><img src="../varios/iconos/icono-php.svg" alt="Índice de PHP" title="Índice de PHP" width="48" height="48"></a>
      <a href="#"><img src="../varios/iconos/icono-arrow-circle-up.svg" alt="Principio de la página" title="Principio de la página" width="36" height="36"></a>
    </p>

    <div class="toc">
      <h2>Constantes</h2>

      <ul>
        <li><a href="#constantes">Constantes</a></li>
        <li><a href="#definir">Definir constantes</a></li>
        <li><a href="#predefinidas">Constantes predefinidas</a>
          <ul>
            <li><a href="#lista">Lista de constantes</a></li>
            <li><a href="#inf">INF </a></li>
            <li><a href="#php-int-size">PHP_INT_SIZE</a></li>
            <li><a href="#php-int-max">PHP_INT_MAX / MIN</a></li>
            <li><a href="#php-float-max">PHP_FLOAT_MAX / MIN</a></li>
            <li><a href="#php-float-max">PHP_FLOAT_EPSILON / DIG</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </nav>

  <p>PHP permite definir constantes e incluye una serie de constante predefinidas que se pueden utilizar directamente:</p>

  <section id="constantes">
    <h2>Constantes</h2>

    <p>Las constantes son elementos de PHP que guardan un valor fijo que no se puede modificar a lo largo del programa. Las constantes pueden ser <a href="#definir">definidas por el programa</a> o estar <a href="#predefinidas">predefinidas</a> por el propio PHP o por algún módulo. Los nombres de las constantes siguen las mismas reglas que los nombres de las variables, pero sin el dólar ($) inicial. La costumbre es escribir los nombres de las constantes en mayúsculas.</p>

    <p>En principio, en vez de constantes se podrían utilizar variables. La ventaja de usar constantes en vez de variables es que se puede distinguir a simple vista si a lo largo de un programa algo va a permanecer constante (si es una constante) o puede cambiar (si es una variable). El inconveniente de usar constantes es que las constantes no se sustituyen dentro de las cadenas y es necesario sacarlas fuera de las cadenas, haciendo el código un poco más incómodo de escribir y leer. Desde el punto de vista del rendimiento, la diferencia entre usar constantes o variables es inapreciable.</p>
  </section>

  <section id="definir">
    <h2>Definir constantes</h2>

    <p>La función <a href="https://www.php.net/manual/en/function.define.php" class="php-fun">define(nombre_constante, valor_constante)</a> permite definir constantes.</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
define("PI", 3.14);
print "&lt;p&gt;El valor de pi es " . PI . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre>
<code class="language-html">&lt;p&gt;El valor de pi es 3.14&lt;/p&gt;</code>
</pre>
      </div>
    </div>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
define("AUTOR", "Bartolomé Sintes Marco");
print "&lt;p&gt;Autor: " . AUTOR . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre>
<code class="language-html">&lt;p&gt;Autor: Bartolomé Sintes Marco&lt;/p&gt;</code>
</pre>
      </div>
    </div>

    <p>También se pueden definir constantes mediante la palabra reservada <span class="php-res">const</span>.</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
const PI = 3.14;
print "&lt;p&gt;El valor de pi es " . PI . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre>
<code class="language-html">&lt;p&gt;El valor de pi es 3.14&lt;/p&gt;</code>
</pre>
      </div>
    </div>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
const AUTOR = "Bartolomé Sintes Marco";
print "&lt;p&gt;Autor: " . AUTOR . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre>
<code class="language-html">&lt;p&gt;Autor: Bartolomé Sintes Marco&lt;/p&gt;</code>
</pre>
      </div>
    </div>
    <hr class="corta">

    <p>La costumbre es escribir los nombres de las constantes en mayúsculas. Los nombres de las constantes deben empezar por una letra y tener sólo letras (acentos, etc), números y guiones bajos.</p>

    <hr class="corta">

    <p>Las constantes no se sustituyen dentro de una cadena (ni siquiera escribiéndolas entre llaves), por lo que es necesario concatenarlas para mostrar su valor.</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
define("PI", 3.14);
print "&lt;p&gt;El valor de pi es PI&lt;/p&gt;\n";         // El valor NO se sustituye
print "&lt;p&gt;El valor de pi es {PI}&lt;/p&gt;\n";       // El valor NO se sustituye
print "&lt;p&gt;El valor de pi es " . PI . "&lt;/p&gt;\n"; // El valor SÍ se sustituye
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre>
<code class="language-html">&lt;p&gt;El valor de pi es PI&lt;/p&gt;
&lt;p&gt;El valor de pi es {PI}&lt;/p&gt;
&lt;p&gt;El valor de pi es 3.14&lt;/p&gt;</code>
</pre>
      </div>
    </div>

    <hr class="corta">

    <p>En las constantes, PHP distingue entre minúsculas y mayúsculas:</p>

    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
define("PI", 3.14);
define("pi", 3.141592);
print "&lt;p&gt;El valor de pi es " . PI . "&lt;/p&gt;";
print "&lt;p&gt;El valor de pi es " . pi . "&lt;/p&gt;";
?&gt;</code>
</pre>
      </div>
      <div class="resultado-codigo">
        <pre>
<code class="language-html">&lt;p&gt;El valor de pi es 3.14&lt;/p&gt;
&lt;p&gt;El valor de pi es 3.141592&lt;/p&gt;</code>
</pre>
      </div>
    </div>

    <hr class="corta">

    <p>Definir constantes mediante la función <span class="php-fun">define()</span> no es lo mismo que hacerlo mediante la palabra reservada <span class="php-res">const</span>.</p>
    <ul>
      <li>Las constantes definidas con <span class="php-fun">define()</span> se crean en tiempo de ejecución mientras que las constantes definidas con <span class="php-res">const</span> se crean en tiempo de compilación. Eso significa que las primeras se pueden crear en cualquier momento durante la ejecución de un programa, mientras que las segundas no, como muestra el siguiente ejemplo.

        <div class="filaflex">
          <div class="icono-ok">
            <img src="../varios/iconos/icono-oksi.svg" alt="Correcto" title="Correcto" width="40" height="40">
          </div>
          <div class="codigo">
            <pre>
<code class="language-php">&lt;?php
$decimales = 6;
if ($decimales == 6) {
    define("PI", 3.141592);
} else {
    define("PI", 3.14);
}
print "&lt;p&gt;El valor de pi es " . PI . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
          </div>
          <div class="resultado-codigo">
            <pre>
<code class="language-html">&lt;p&gt;El valor de pi es 3.141592&lt;/p&gt;</code>
</pre>
          </div>
        </div>

        <div class="filaflex">
          <div class="icono-ok">
            <img src="../varios/iconos/icono-okno.svg" alt="Incorrecto" title="Incorrecto" width="40" height="40">
          </div>
          <div class="codigo">
            <pre>
<code class="language-php">&lt;?php
$decimales = 6;
if ($decimales == 6) {
    const PI = 3.141592;
} else {
    const PI = 3.14;
}
print "&lt;p&gt;El valor de pi es " . PI . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
          </div>
          <div class="resultado-html">
            <b>Parse error</b>: syntax error, unexpected 'const' (T_CONST) in <b>ejemplo.php</b> on line <b>4</b>
          </div>
        </div>
      </li>
      <li>Sin embargo, al definir una constante en una clase, se debe hacer con <span class="php-res">const</span>, como muestra el siguiente ejemplo.

        <div class="filaflex">
          <div class="icono-ok">
            <img src="../varios/iconos/icono-okno.svg" alt="Incorrecto" title="Incorrecto" width="40" height="40">
          </div>
          <div class="codigo">
            <pre>
<code class="language-php">&lt;?php
class Constantes
{
    define('PI', 3.14);
}
print "&lt;p&gt;El valor de pi es " . Constantes::PI . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
          </div>
          <div class="resultado-html">
            <b>Parse error</b>: syntax error, unexpected 'define' (T_STRING), expecting function (T_FUNCTION) or const (T_CONST) in <b>ejemplo.php</b> on line <b>15</b>
          </div>
        </div>

        <div class="filaflex">
          <div class="icono-ok">
            <img src="../varios/iconos/icono-oksi.svg" alt="Correcto" title="Correcto" width="40" height="40">
          </div>
          <div class="codigo">
            <pre>
<code class="language-php">&lt;?php
class Constantes
{
    const PI = 3.14;
}
print "&lt;p&gt;El valor de pi es " . Constantes::PI . "&lt;/p&gt;\n";
?&gt;</code>
</pre>
          </div>
          <div class="resultado-codigo">
            <pre>
<code class="language-html">&lt;p&gt;El valor de pi es 3.141592&lt;/p&gt;</code>
</pre>
          </div>
        </div>
      </li>
    </ul>
  </section>

  <section id="predefinidas">
    <h2>Constantes predefinidas</h2>

    <p>Tanto PHP como los módulos cargados definen automáticamente una serie de <a href="https://www.php.net/manual/en/reserved.constants.php">constantes predefinidas</a>, de las que se comentan algunas en esta lección:</p>

    <ul>
      <li><a href="#lista">Lista completa de constantes predefinidas</a></li>
      <li><a href="#inf">INF </a></li>
      <li><a href="#php-int-max">PHP_INT_MAX</a></li>
      <li><a href="#php-int-size">PHP_INT_SIZE</a></li>
    </ul>

    <section id="lista">
      <h3>Lista completa de constantes predefinidas</h3>

      <p>El número de constantes predefinidas depende de los módulos cargados en php.ini. La función <a href="https://www.php.net/manual/en/function.get-defined-constants.php">get_defined_constants()</a> devuelve las constantes predefinidas en el servidor que estemos utilizando:</p>

      <div class="filaflex">
        <div class="codigo">
          <pre>
<code class="language-php">&lt;?php
print "&lt;pre&gt;";
print_r(get_defined_constants());
print "&lt;/pre&gt;\n";
?&gt;</code>
</pre>
        </div>
        <div class="resultado-codigo">
          <pre>
<code class="language-html">&lt;pre&gt;Array
(
    [E_ERROR] =&gt; 1
    [E_RECOVERABLE_ERROR] =&gt; 4096
    [E_WARNING] =&gt; 2
    [E_PARSE] =&gt; 4
    [E_NOTICE] =&gt; 8
    [E_STRICT] =&gt; 2048
    ...
)
&lt;/pre&gt;</code>
</pre>
        </div>
      </div>
    </section>

    <section id="inf">
      <h3>INF </h3>

      <p>La constante <a href="https://www.php.net/manual/en/math.constants.php#constant.inf"><span class="php.con">INF</span></a> representa el infinito, es decir, cualquier número demasiado grande (positivo o negativo) para poderse guardar en una variable decimal.</p>
    </section>


    <div class="filaflex">
      <div class="codigo">
        <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;\n";
print "  &lt;strong&gt;Números enteros:&lt;/strong&gt;&lt;br&gt;\n";
print "  Valor mínimo: " . PHP_INT_MIN . "&lt;br&gt;\n";
print "&lt;/p&gt;\n";
print "&lt;p&gt;\n";
print "  &lt;strong&gt;Números decimales:&lt;/strong&gt;&lt;br&gt;\n";
print "  Valor máximo: " . PHP_FLOAT_MAX . "&lt;br&gt;\n";
print "  Valor mínimo: " . PHP_FLOAT_MIN . "&lt;br&gt;\n";
print "  Valor más próximo a cero: " . PHP_FLOAT_EPSILON . "&lt;br&gt;\n";
print "  Precisión: " . PHP_FLOAT_DIG . " decimales&lt;br&gt;\n";
print "&lt;/p&gt;\n";
?&gt;</code>
</pre>
      </div>
      <iframe src="ejemplos/operaciones-aritmeticas-1.php" style="height: 21em;"></iframe>
      <div class="icono-enlace">
        <a href="ejemplos/operaciones-aritmeticas-1.php"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36"></a>
      </div>
    </div>

    <section id="php-int-size">
      <h3>PHP_INT_SIZE</h3>

      <p><a href="https://www.php.net/manual/en/reserved.constants.php#constant.php-int-size" class="separa-subrayado">PHP_INT_SIZE</a> es el tamaño en bytes de las variables de tipo entero, que depende del ordenador, del sistema operativo y de la versión de PHP. En sistemas de 32 bits suele ser 4 bytes y en sistema de 64 bits suele ser 8 bytes.</p>

      <div class="filaflex">
        <div class="codigo">
          <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;En este servidor los enteros ocupan " . PHP_INT_SIZE . " bytes.&lt;/p&gt;\n";
?&gt;</code>
</pre>
        </div>
        <iframe src="ejemplos/constantes-predefinidas-php-int-size.php" style="height: 6em;"></iframe>
        <div class="icono-enlace">
          <a href="ejemplos/constantes-predefinidas-php-int-size.php"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36"></a>
        </div>
      </div>

      <p><strong>Nota</strong>: En las versiones de PHP de 64 bits para Windows anteriores a PHP 7, los enteros tenían 4 bytes de tamaño. A partir de PHP 7, en las versiones de PHP de 64 bits para Windows los enteros tiene un tamaño de 8 bytes.</p>
    </section>

    <section id="php-int-max">
      <h3>PHP_INT_MAX y PHP_INT_MIN</h3>

      <p><a href="https://www.php.net/manual/en/reserved.constants.php#constant.php-int-max" class="separa-subrayado">PHP_INT_MAX</a> es el mayor entero que se puede guardar en una variable de tipo entero.</p>

      <div class="filaflex">
        <div class="codigo">
          <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;En este servidor el mayor entero posible es  " . PHP_INT_MAX . ".&lt;/p&gt;\n";
?&gt;</code>
</pre>
        </div>
        <iframe src="ejemplos/constantes-predefinidas-php-int-max.php" style="height: 6em;"></iframe>
        <div class="icono-enlace">
          <a href="ejemplos/constantes-predefinidas-php-int-max.php"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36"></a>
        </div>
      </div>

      <p><a href="https://www.php.net/manual/en/reserved.constants.php#constant.php-int-min" class="separa-subrayado">PHP_INT_MIN</a> es el menor entero que se puede guardar en una variable de tipo entero.</p>

      <div class="filaflex">
        <div class="codigo">
          <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;En este servidor el menor entero posible es  " . PHP_INT_MIN . ".&lt;/p&gt;\n";
?&gt;</code>
</pre>
        </div>
        <iframe src="ejemplos/constantes-predefinidas-php-int-min.php" style="height: 6em;"></iframe>
        <div class="icono-enlace">
          <a href="ejemplos/constantes-predefinidas-php-int-min.php"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36"></a>
        </div>
      </div>

      <p>Estos valores dependen del tamaño en bytes que ocupan las variables en la memoria, que a su vez depende del microprocesador, del sistema operativo y de la versión de PHP. En una variable de tipo entero se guardan tanto valores positivos como negativos (utilizando la notación <a href="https://es.wikipedia.org/wiki/Complemento_a_dos">complemento a dos</a> para los negativos).</p>
      <ul>
        <li>En sistemas de 32 bits, los enteros suelen ocupar 4 bytes (32 bits). El valor máximo suele ser <strong>2.147.483.647</strong> (2<sup>31</sup> - 1) y el valor mínimo suele ser <strong>-2.147.483.648</strong> (-2<sup>31</sup>). </li>
        <li>En sistemas de 64 bits, los enteros suelen ocupar 8 bytes (64 bits) y el valor máximo suele ser <strong>9.223.372.036.854.775.807</strong> (2<sup>63</sup> - 1) y el valor mínimo suele ser <strong>-9.223.372.036.854.775.808</strong> (-2<sup>63</sup>).</li>
      </ul>

      <p><strong>Nota</strong>: En las versiones de PHP de 64 bits para Windows anteriores a PHP 7, los enteros tenían 4 bytes de tamaño. A partir de PHP 7, en las versiones de PHP de 64 bits para Windows los enteros tiene un tamaño de 8 bytes.</p>
    </section>

    <section id="php-float-max">
      <h3>PHP_FLOAT_MAX y PHP_FLOAT_MIN</h3>

      <p><a href="https://www.php.net/manual/en/reserved.constants.php#constant.php-float-max" class="separa-subrayado">PHP_FLOAT_MAX</a> es el mayor decimal que se puede guardar en una variable de tipo decimal.</p>

      <div class="filaflex">
        <div class="codigo">
          <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;En este servidor el mayor decimal posible es  " . PHP_FLOAT_MAX . ".&lt;/p&gt;\n";
?&gt;</code>
</pre>
        </div>
        <iframe src="ejemplos/constantes-predefinidas-php-float-max.php" style="height: 6em;"></iframe>
        <div class="icono-enlace">
          <a href="ejemplos/constantes-predefinidas-php-float-max.php"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36"></a>
        </div>
      </div>

      <p><a href="https://www.php.net/manual/en/reserved.constants.php#constant.php-float-min" class="separa-subrayado">PHP_FLOAT_MIN</a> es el menor decimal que se puede guardar en una variable de tipo decimal.</p>

      <div class="filaflex">
        <div class="codigo">
          <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;En este servidor el menor decimal posible es  " . PHP_FLOAT_MIN . ".&lt;/p&gt;\n";
?&gt;</code>
</pre>
        </div>
        <iframe src="ejemplos/constantes-predefinidas-php-float-min.php" style="height: 6em;"></iframe>
        <div class="icono-enlace">
          <a href="ejemplos/constantes-predefinidas-php-float-min.php"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36"></a>
        </div>
      </div>

      <p>Estos valores corresponden al formato <a href="https://en.wikipedia.org/wiki/Double-precision_floating-point_format#IEEE_754_double-precision_binary_floating-point_format:_binary64">IEEE 754 64 bits</a> que utiliza PHP.</p>
    </section>

    <section id="php-float-epsilo">
      <h3>PHP_FLOAT_EPSILON y PHP_FLOAT_DIG</h3>

      <p><a href="https://www.php.net/manual/en/reserved.constants.php#constant.php-float-epsilon" class="separa-subrayado">PHP_FLOAT_EPSILON</a> es el mayor decimal que se puede guardar en una variable de tipo decimal.</p>

      <div class="filaflex">
        <div class="codigo">
          <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;En este servidor el decimal más próximo a cero posible es  " . PHP_FLOAT_EPSILON . ".&lt;/p&gt;\n";
?&gt;</code>
</pre>
        </div>
        <iframe src="ejemplos/constantes-predefinidas-php-float-epsilon.php" style="height: 6em;"></iframe>
        <div class="icono-enlace">
          <a href="ejemplos/constantes-predefinidas-php-float-epsilon.php"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36"></a>
        </div>
      </div>

      <p><a href="https://www.php.net/manual/en/reserved.constants.php#constant.php-float-dig" class="separa-subrayado">PHP_FLOAT_DIG</a> es el menor decimal que se puede guardar en una variable de tipo decimal.</p>

      <div class="filaflex">
        <div class="codigo">
          <pre>
<code class="language-php">&lt;?php
print "&lt;p&gt;En este servidor un decimal se puede redondear " . PHP_FLOAT_DIG . " cifras sin pérdidas.&lt;/p&gt;\n";
?&gt;</code>
</pre>
        </div>
        <iframe src="ejemplos/constantes-predefinidas-php-float-dig.php" style="height: 6em;"></iframe>
        <div class="icono-enlace">
          <a href="ejemplos/constantes-predefinidas-php-float-dig.php"><img src="../varios/iconos/icono-enlace.svg" alt="Enlace a ejemplo" title="Enlace a ejemplo" width="31" height="36"></a>
        </div>
      </div>

      <p>Estos valores corresponden al formato <a href="https://en.wikipedia.org/wiki/Double-precision_floating-point_format#IEEE_754_double-precision_binary_floating-point_format:_binary64">IEEE 754 64 bits</a> que utiliza PHP.</p>
    </section>
  </section>

  <footer>
    <p class="ultmod">Última modificación de esta página: 28 de septiembre de 2022</p>

    <p class="licencia">
      <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES"><img src="../varios/iconos/icono-cc-by-sa.svg" alt="Licencia Creative Commons" title="Licencia Creative Commons BY-SA" width="120" height="42"></a><br>
      Esta página forma parte del curso <strong><a href="https://www.mclibre.org/consultar/php/">Programación web en PHP</a></strong> por <a href="https://www.mclibre.org/" rel="author">Bartolomé Sintes Marco</a><br>
      que se distribuye bajo una <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES">Licencia Creative Commons Reconocimiento-CompartirIgual 4.0 Internacional (CC BY-SA 4.0)</a>.
    </p>
  </footer>
</body>
</html>
